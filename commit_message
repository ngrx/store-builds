705ae44c test(effects): add test cases for effect factory (#2818)
