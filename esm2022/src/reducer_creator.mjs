/**
 * @description
 * Associates actions with a given state change function.
 * A state change function must be provided as the last parameter.
 *
 * @param args `ActionCreator`'s followed by a state change function.
 *
 * @returns an association of action types with a state change function.
 *
 * @usageNotes
 * ```ts
 * on(AuthApiActions.loginSuccess, (state, { user }) => ({ ...state, user }))
 * ```
 */
export function on(...args) {
    const reducer = args.pop();
    const types = args.map((creator) => creator.type);
    return { reducer, types };
}
/**
 * @description
 * Creates a reducer function to handle state transitions.
 *
 * Reducer creators reduce the explicitness of reducer functions with switch statements.
 *
 * @param initialState Provides a state value if the current state is `undefined`, as it is initially.
 * @param ons Associations between actions and state changes.
 * @returns A reducer function.
 *
 * @usageNotes
 *
 * - Must be used with `ActionCreator`'s (returned by `createAction`). Cannot be used with class-based action creators.
 * - The returned `ActionReducer` does not require being wrapped with another function.
 *
 * **Declaring a reducer creator**
 *
 * ```ts
 * export const reducer = createReducer(
 *   initialState,
 *   on(
 *     featureActions.actionOne,
 *     featureActions.actionTwo,
 *     (state, { updatedValue }) => ({ ...state, prop: updatedValue })
 *   ),
 *   on(featureActions.actionThree, () => initialState);
 * );
 * ```
 */
export function createReducer(initialState, ...ons) {
    const map = new Map();
    for (const on of ons) {
        for (const type of on.types) {
            const existingReducer = map.get(type);
            if (existingReducer) {
                const newReducer = (state, action) => on.reducer(existingReducer(state, action), action);
                map.set(type, newReducer);
            }
            else {
                map.set(type, on.reducer);
            }
        }
    }
    return function (state = initialState, action) {
        const reducer = map.get(action.type);
        return reducer ? reducer(state, action) : state;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVkdWNlcl9jcmVhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbW9kdWxlcy9zdG9yZS9zcmMvcmVkdWNlcl9jcmVhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlDQTs7Ozs7Ozs7Ozs7OztHQWFHO0FBQ0gsTUFBTSxVQUFVLEVBQUUsQ0FVaEIsR0FBRyxJQU9GO0lBRUQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFHdkIsQ0FBQztJQUNGLE1BQU0sS0FBSyxHQUFJLElBQTRCLENBQUMsR0FBRyxDQUM3QyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FDaUIsQ0FBQztJQUM3QyxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDO0FBQzVCLENBQUM7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQTRCRztBQUNILE1BQU0sVUFBVSxhQUFhLENBTzNCLFlBQWUsRUFBRSxHQUFHLEdBQWdEO0lBQ3BFLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxFQUF5QyxDQUFDO0lBQzdELEtBQUssTUFBTSxFQUFFLElBQUksR0FBRyxFQUFFO1FBQ3BCLEtBQUssTUFBTSxJQUFJLElBQUksRUFBRSxDQUFDLEtBQUssRUFBRTtZQUMzQixNQUFNLGVBQWUsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3RDLElBQUksZUFBZSxFQUFFO2dCQUNuQixNQUFNLFVBQVUsR0FBMkIsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FDM0QsRUFBRSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUNyRCxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQzthQUMzQjtpQkFBTTtnQkFDTCxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDM0I7U0FDRjtLQUNGO0lBRUQsT0FBTyxVQUFVLFFBQVcsWUFBWSxFQUFFLE1BQVM7UUFDakQsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsT0FBTyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUNsRCxDQUFNLENBQUM7QUFDVCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uQ3JlYXRvciwgQWN0aW9uUmVkdWNlciwgQWN0aW9uVHlwZSwgQWN0aW9uIH0gZnJvbSAnLi9tb2RlbHMnO1xuXG4vLyBHb2VzIG92ZXIgdGhlIGFycmF5IG9mIEFjdGlvbkNyZWF0b3JzLCBwdWxscyB0aGUgYWN0aW9uIHR5cGUgb3V0IG9mIGVhY2ggb25lXG4vLyBhbmQgcmV0dXJucyB0aGUgYXJyYXkgb2YgdGhlc2UgYWN0aW9uIHR5cGVzLlxudHlwZSBFeHRyYWN0QWN0aW9uVHlwZXM8Q3JlYXRvcnMgZXh0ZW5kcyByZWFkb25seSBBY3Rpb25DcmVhdG9yW10+ID0ge1xuICBbS2V5IGluIGtleW9mIENyZWF0b3JzXTogQ3JlYXRvcnNbS2V5XSBleHRlbmRzIEFjdGlvbkNyZWF0b3I8aW5mZXIgVD5cbiAgICA/IFRcbiAgICA6IG5ldmVyO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdHlwZSBvZiB0aGUgYG9uYCBmbi5cbiAqIENvbnRhaW5zIHRoZSBhY3Rpb24gcmVkdWNlciBjb3VwbGVkIHRvIG9uZSBvciBtb3JlIGFjdGlvbiB0eXBlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWR1Y2VyVHlwZXM8XG4gIFN0YXRlLFxuICBDcmVhdG9ycyBleHRlbmRzIHJlYWRvbmx5IEFjdGlvbkNyZWF0b3JbXVxuPiB7XG4gIHJlZHVjZXI6IE9uUmVkdWNlcjxTdGF0ZSwgQ3JlYXRvcnM+O1xuICB0eXBlczogRXh0cmFjdEFjdGlvblR5cGVzPENyZWF0b3JzPjtcbn1cblxuLyoqXG4gKiAgU3BlY2lhbGl6ZWQgUmVkdWNlciB0aGF0IGlzIGF3YXJlIG9mIHRoZSBBY3Rpb24gdHlwZSBpdCBuZWVkcyB0byBoYW5kbGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPblJlZHVjZXI8XG4gIC8vIFN0YXRlIHR5cGUgdGhhdCBpcyBiZWluZyBwYXNzZWQgZnJvbSBjb25zdW1lciBvZiBgb25gIGZuLCBlLmcuIGZyb20gYGNyZWF0ZVJlZHVjZXJgIGZhY3RvcnlcbiAgU3RhdGUsXG4gIENyZWF0b3JzIGV4dGVuZHMgcmVhZG9ubHkgQWN0aW9uQ3JlYXRvcltdLFxuICAvLyBJbmZlcnJlZCB0eXBlIGZyb20gd2l0aGluIE9uUmVkdWNlciBmdW5jdGlvbiBpZiBgU3RhdGVgIGlzIHVua25vd25cbiAgSW5mZXJyZWRTdGF0ZSA9IFN0YXRlLFxuICAvLyBSZXN1bHRpbmcgc3RhdGUgd291bGQgYmUgZWl0aGVyIGEgU3RhdGUgb3IgaWYgU3RhdGUgaXMgdW5rbm93biB0aGVuIHRoZSBpbmZlcnJlZCBzdGF0ZSBmcm9tIHRoZSBmdW5jdGlvbiBpdHNlbGZcbiAgUmVzdWx0U3RhdGUgPSB1bmtub3duIGV4dGVuZHMgU3RhdGUgPyBJbmZlcnJlZFN0YXRlIDogU3RhdGVcbj4ge1xuICAoXG4gICAgLy8gaWYgU3RhdGUgaXMgdW5rbm93biB0aGVuIHNldCB0aGUgSW5mZXJyZWRTdGF0ZSB0eXBlXG4gICAgc3RhdGU6IHVua25vd24gZXh0ZW5kcyBTdGF0ZSA/IEluZmVycmVkU3RhdGUgOiBTdGF0ZSxcbiAgICBhY3Rpb246IEFjdGlvblR5cGU8Q3JlYXRvcnNbbnVtYmVyXT5cbiAgKTogUmVzdWx0U3RhdGU7XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBc3NvY2lhdGVzIGFjdGlvbnMgd2l0aCBhIGdpdmVuIHN0YXRlIGNoYW5nZSBmdW5jdGlvbi5cbiAqIEEgc3RhdGUgY2hhbmdlIGZ1bmN0aW9uIG11c3QgYmUgcHJvdmlkZWQgYXMgdGhlIGxhc3QgcGFyYW1ldGVyLlxuICpcbiAqIEBwYXJhbSBhcmdzIGBBY3Rpb25DcmVhdG9yYCdzIGZvbGxvd2VkIGJ5IGEgc3RhdGUgY2hhbmdlIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm5zIGFuIGFzc29jaWF0aW9uIG9mIGFjdGlvbiB0eXBlcyB3aXRoIGEgc3RhdGUgY2hhbmdlIGZ1bmN0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiBgYGB0c1xuICogb24oQXV0aEFwaUFjdGlvbnMubG9naW5TdWNjZXNzLCAoc3RhdGUsIHsgdXNlciB9KSA9PiAoeyAuLi5zdGF0ZSwgdXNlciB9KSlcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gb248XG4gIC8vIFN0YXRlIHR5cGUgdGhhdCBpcyBiZWluZyBwYXNzZWQgZnJvbSBgY3JlYXRlUmVkdWNlcmAgd2hlbiBjcmVhdGVkIHdpdGhpbiB0aGF0IGZhY3RvcnkgZnVuY3Rpb25cbiAgU3RhdGUsXG4gIC8vIEFjdGlvbiBjcmVhdG9yc1xuICBDcmVhdG9ycyBleHRlbmRzIHJlYWRvbmx5IEFjdGlvbkNyZWF0b3JbXSxcbiAgLy8gSW5mZXJyZWQgdHlwZSBmcm9tIHdpdGhpbiBPblJlZHVjZXIgZnVuY3Rpb24gaWYgYFN0YXRlYCBpcyB1bmtub3duLiBUaGlzIGlzIHR5cGljYWxseSB0aGUgY2FzZSB3aGVuIGBvbmAgZnVuY3Rpb25cbiAgLy8gaXMgY3JlYXRlZCBvdXRzaWRlIG9mIGBjcmVhdGVSZWR1Y2VyYCBhbmQgc3RhdGUgdHlwZSBpcyBlaXRoZXIgZXhwbGljaXRseSBzZXQgT1IgaW5mZXJyZWQgYnkgcmV0dXJuIHR5cGUuXG4gIC8vIEZvciBleGFtcGxlOiBgY29uc3Qgb25GbiA9IG9uKGFjdGlvbiwgKHN0YXRlOiBTdGF0ZSwge3Byb3B9KSA9PiAoeyAuLi5zdGF0ZSwgbmFtZTogcHJvcCB9KSk7YFxuICBJbmZlcnJlZFN0YXRlID0gU3RhdGVcbj4oXG4gIC4uLmFyZ3M6IFtcbiAgICAuLi5jcmVhdG9yczogQ3JlYXRvcnMsXG4gICAgcmVkdWNlcjogT25SZWR1Y2VyPFxuICAgICAgU3RhdGUgZXh0ZW5kcyBpbmZlciBTID8gUyA6IG5ldmVyLFxuICAgICAgQ3JlYXRvcnMsXG4gICAgICBJbmZlcnJlZFN0YXRlXG4gICAgPlxuICBdXG4pOiBSZWR1Y2VyVHlwZXM8dW5rbm93biBleHRlbmRzIFN0YXRlID8gSW5mZXJyZWRTdGF0ZSA6IFN0YXRlLCBDcmVhdG9ycz4ge1xuICBjb25zdCByZWR1Y2VyID0gYXJncy5wb3AoKSBhcyB1bmtub3duIGFzIE9uUmVkdWNlcjxcbiAgICB1bmtub3duIGV4dGVuZHMgU3RhdGUgPyBJbmZlcnJlZFN0YXRlIDogU3RhdGUsXG4gICAgQ3JlYXRvcnNcbiAgPjtcbiAgY29uc3QgdHlwZXMgPSAoYXJncyBhcyB1bmtub3duIGFzIENyZWF0b3JzKS5tYXAoXG4gICAgKGNyZWF0b3IpID0+IGNyZWF0b3IudHlwZVxuICApIGFzIHVua25vd24gYXMgRXh0cmFjdEFjdGlvblR5cGVzPENyZWF0b3JzPjtcbiAgcmV0dXJuIHsgcmVkdWNlciwgdHlwZXMgfTtcbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSByZWR1Y2VyIGZ1bmN0aW9uIHRvIGhhbmRsZSBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAqXG4gKiBSZWR1Y2VyIGNyZWF0b3JzIHJlZHVjZSB0aGUgZXhwbGljaXRuZXNzIG9mIHJlZHVjZXIgZnVuY3Rpb25zIHdpdGggc3dpdGNoIHN0YXRlbWVudHMuXG4gKlxuICogQHBhcmFtIGluaXRpYWxTdGF0ZSBQcm92aWRlcyBhIHN0YXRlIHZhbHVlIGlmIHRoZSBjdXJyZW50IHN0YXRlIGlzIGB1bmRlZmluZWRgLCBhcyBpdCBpcyBpbml0aWFsbHkuXG4gKiBAcGFyYW0gb25zIEFzc29jaWF0aW9ucyBiZXR3ZWVuIGFjdGlvbnMgYW5kIHN0YXRlIGNoYW5nZXMuXG4gKiBAcmV0dXJucyBBIHJlZHVjZXIgZnVuY3Rpb24uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiAtIE11c3QgYmUgdXNlZCB3aXRoIGBBY3Rpb25DcmVhdG9yYCdzIChyZXR1cm5lZCBieSBgY3JlYXRlQWN0aW9uYCkuIENhbm5vdCBiZSB1c2VkIHdpdGggY2xhc3MtYmFzZWQgYWN0aW9uIGNyZWF0b3JzLlxuICogLSBUaGUgcmV0dXJuZWQgYEFjdGlvblJlZHVjZXJgIGRvZXMgbm90IHJlcXVpcmUgYmVpbmcgd3JhcHBlZCB3aXRoIGFub3RoZXIgZnVuY3Rpb24uXG4gKlxuICogKipEZWNsYXJpbmcgYSByZWR1Y2VyIGNyZWF0b3IqKlxuICpcbiAqIGBgYHRzXG4gKiBleHBvcnQgY29uc3QgcmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoXG4gKiAgIGluaXRpYWxTdGF0ZSxcbiAqICAgb24oXG4gKiAgICAgZmVhdHVyZUFjdGlvbnMuYWN0aW9uT25lLFxuICogICAgIGZlYXR1cmVBY3Rpb25zLmFjdGlvblR3byxcbiAqICAgICAoc3RhdGUsIHsgdXBkYXRlZFZhbHVlIH0pID0+ICh7IC4uLnN0YXRlLCBwcm9wOiB1cGRhdGVkVmFsdWUgfSlcbiAqICAgKSxcbiAqICAgb24oZmVhdHVyZUFjdGlvbnMuYWN0aW9uVGhyZWUsICgpID0+IGluaXRpYWxTdGF0ZSk7XG4gKiApO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWR1Y2VyPFxuICBTLFxuICBBIGV4dGVuZHMgQWN0aW9uID0gQWN0aW9uLFxuICAvLyBBZGRpdGlvbmFsIGdlbmVyaWMgZm9yIHRoZSByZXR1cm4gdHlwZSBpcyBpbnRyb2R1Y2VkIHRvIGVuYWJsZSBjb3JyZWN0XG4gIC8vIHR5cGUgaW5mZXJlbmNlIHdoZW4gYGNyZWF0ZVJlZHVjZXJgIGlzIHVzZWQgd2l0aGluIGBjcmVhdGVGZWF0dXJlYC5cbiAgLy8gRm9yIG1vcmUgaW5mbyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNTIxMTRcbiAgUiBleHRlbmRzIEFjdGlvblJlZHVjZXI8UywgQT4gPSBBY3Rpb25SZWR1Y2VyPFMsIEE+XG4+KGluaXRpYWxTdGF0ZTogUywgLi4ub25zOiBSZWR1Y2VyVHlwZXM8UywgcmVhZG9ubHkgQWN0aW9uQ3JlYXRvcltdPltdKTogUiB7XG4gIGNvbnN0IG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBPblJlZHVjZXI8UywgQWN0aW9uQ3JlYXRvcltdPj4oKTtcbiAgZm9yIChjb25zdCBvbiBvZiBvbnMpIHtcbiAgICBmb3IgKGNvbnN0IHR5cGUgb2Ygb24udHlwZXMpIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nUmVkdWNlciA9IG1hcC5nZXQodHlwZSk7XG4gICAgICBpZiAoZXhpc3RpbmdSZWR1Y2VyKSB7XG4gICAgICAgIGNvbnN0IG5ld1JlZHVjZXI6IHR5cGVvZiBleGlzdGluZ1JlZHVjZXIgPSAoc3RhdGUsIGFjdGlvbikgPT5cbiAgICAgICAgICBvbi5yZWR1Y2VyKGV4aXN0aW5nUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSwgYWN0aW9uKTtcbiAgICAgICAgbWFwLnNldCh0eXBlLCBuZXdSZWR1Y2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcC5zZXQodHlwZSwgb24ucmVkdWNlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZTogUyA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uOiBBKTogUyB7XG4gICAgY29uc3QgcmVkdWNlciA9IG1hcC5nZXQoYWN0aW9uLnR5cGUpO1xuICAgIHJldHVybiByZWR1Y2VyID8gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKSA6IHN0YXRlO1xuICB9IGFzIFI7XG59XG4iXX0=