!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/Observable"),require("rxjs/operator/map"),require("rxjs/operator/pluck"),require("rxjs/operator/distinctUntilChanged"),require("rxjs/BehaviorSubject"),require("rxjs/scheduler/queue"),require("rxjs/operator/observeOn"),require("rxjs/operator/withLatestFrom"),require("rxjs/operator/scan"),require("rxjs/Subject")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/Observable","rxjs/operator/map","rxjs/operator/pluck","rxjs/operator/distinctUntilChanged","rxjs/BehaviorSubject","rxjs/scheduler/queue","rxjs/operator/observeOn","rxjs/operator/withLatestFrom","rxjs/operator/scan","rxjs/Subject"],t):t((e.ngrx=e.ngrx||{},e.ngrx.store={}),e.ng.core,e.Rx,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx,e.Rx.Scheduler,e.Rx.Observable.prototype,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx)}(this,function(e,t,r,n,o,c,i,u,a,s,p,l){"use strict";function d(e,t){void 0===t&&(t={});for(var r=Object.keys(e),n={},o=0;o<r.length;o++){var c=r[o];"function"==typeof e[c]&&(n[c]=e[c])}var i=Object.keys(n);return function(e,r){e=e||t;for(var o=!1,c={},u=0;u<i.length;u++){var a=i[u],s=n[a],p=e[a],l=s(p,r);c[a]=l,o=o||l!==p}return o?c:e}}function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){if(0===e.length)return t;var r=e[e.length-1];return e.slice(0,-1).reduceRight(function(e,t){return t(e)},r(t))}}function y(e,t){return Array.isArray(t)&&t.length>0?f.apply(null,t.concat([e])):e}function v(e,t){void 0===e&&(e={state:void 0});var r=t[0];return{state:(0,t[1])(e.state,r),action:r}}function h(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(r){var i;if("string"==typeof e)i=o.pluck.call.apply(o.pluck,[r,e].concat(t));else{if("function"!=typeof e)throw new TypeError("Unexpected type '"+typeof e+"' in select operator, expected 'string' or 'function'");i=n.map.call(r,e)}return c.distinctUntilChanged.call(i)}}function g(e){var t=null,r=null;return{memoized:function(){if(!t)return r=e.apply(null,arguments),t=arguments,r;for(var n=0;n<arguments.length;n++)if(arguments[n]!==t[n])return r=e.apply(null,arguments),t=arguments,r;return r},reset:function(){t=null,r=null}}}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e;if(Array.isArray(r[0])){var n=r[0],o=r.slice(1);r=n.concat(o)}var c=r.slice(0,r.length-1),i=r[r.length-1],u=c.filter(function(e){return e.release&&"function"==typeof e.release}),a=g(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(null,e)}),s=g(function(e){var t=c.map(function(t){return t(e)});return a.memoized.apply(null,t)});return Object.assign(s.memoized,{release:function(){s.reset(),a.reset(),u.forEach(function(e){return e.release()})},projector:a.memoized})}function R(e,r,n){return r instanceof t.InjectionToken?e.get(r):r}function b(e,r,n){return r.map(function(r,n){return r instanceof t.InjectionToken?e.get(r):r})}function x(e){return"function"==typeof e?e():e}var I=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),m="@ngrx/store/init",S=function(e){function t(){return e.call(this,{type:m})||this}return I(t,e),t.prototype.next=function(t){if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");e.prototype.next.call(this,t)},t.prototype.complete=function(){},t.prototype.ngOnDestroy=function(){e.prototype.complete.call(this)},t}(i.BehaviorSubject);S.decorators=[{type:t.Injectable}],S.ctorParameters=function(){return[]};var E=[S],O=new t.InjectionToken("@ngrx/store Internal Initial State"),T=new t.InjectionToken("@ngrx/store Initial State"),F=new t.InjectionToken("@ngrx/store Reducer Factory"),_=new t.InjectionToken("@ngrx/store Reducer Factory Provider"),k=new t.InjectionToken("@ngrx/store Initial Reducers"),A=new t.InjectionToken("@ngrx/store Internal Initial Reducers"),w=new t.InjectionToken("@ngrx/store Meta Reducers"),M=new t.InjectionToken("@ngrx/store Store Features"),U=new t.InjectionToken("@ngrx/store Internal Store Reducers"),D=new t.InjectionToken("@ngrx/store Internal Feature Reducers"),q=new t.InjectionToken("@ngrx/store Internal Feature Reducers Token"),C=new t.InjectionToken("@ngrx/store Feature Reducers"),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t}(r.Observable),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t}(S),L="@ngrx/store/update-reducers",V=function(e){function t(t,r,n,o){var c=e.call(this,o(n,r))||this;return c.dispatcher=t,c.initialState=r,c.reducers=n,c.reducerFactory=o,c}return I(t,e),t.prototype.addFeature=function(e){var t=e.reducers,r=e.reducerFactory,n=e.metaReducers,o=e.initialState,c=e.key,i="function"==typeof t?function(e,r){return function(e,t){return Array.isArray(t)&&t.length>0?f.apply(void 0,t)(e):e}(t,n)(e||o,r)}:y(r,n)(t,o);this.addReducer(c,i)},t.prototype.removeFeature=function(e){var t=e.key;this.removeReducer(t)},t.prototype.addReducer=function(e,t){this.reducers=Object.assign({},this.reducers,(r={},r[e]=t,r)),this.updateReducers();var r},t.prototype.removeReducer=function(e){this.reducers=function(e,t){return Object.keys(e).filter(function(e){return e!==t}).reduce(function(t,r){return Object.assign(t,(n={},n[r]=e[r],n));var n},{})}(this.reducers,e),this.updateReducers()},t.prototype.updateReducers=function(){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:L})},t.prototype.ngOnDestroy=function(){this.complete()},t}(i.BehaviorSubject);V.decorators=[{type:t.Injectable}],V.ctorParameters=function(){return[{type:N},{type:void 0,decorators:[{type:t.Inject,args:[T]}]},{type:void 0,decorators:[{type:t.Inject,args:[k]}]},{type:void 0,decorators:[{type:t.Inject,args:[F]}]}]};var B=[V,{provide:P,useExisting:V},{provide:N,useExisting:S}],z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.ngOnDestroy=function(){this.complete()},t}(l.Subject);z.decorators=[{type:t.Injectable}],z.ctorParameters=function(){return[]};var Y=[z],K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t}(r.Observable),G=function(e){function t(t,r,n,o){var c=e.call(this,o)||this,i=a.observeOn.call(t,u.queue),l=s.withLatestFrom.call(i,r),d=p.scan.call(l,v,{state:o});return c.stateSubscription=d.subscribe(function(e){var t=e.state,r=e.action;c.next(t),n.next(r)}),c}return I(t,e),t.prototype.ngOnDestroy=function(){this.stateSubscription.unsubscribe(),this.complete()},t}(i.BehaviorSubject);G.INIT=m,G.decorators=[{type:t.Injectable}],G.ctorParameters=function(){return[{type:S},{type:P},{type:z},{type:void 0,decorators:[{type:t.Inject,args:[T]}]}]};var H=[G,{provide:K,useExisting:G}],J=function(e){function t(t,r,n){var o=e.call(this)||this;return o.actionsObserver=r,o.reducerManager=n,o.source=t,o}return I(t,e),t.prototype.select=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return h.apply(void 0,[e].concat(t))(this)},t.prototype.lift=function(e){var r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=e,r},t.prototype.dispatch=function(e){this.actionsObserver.next(e)},t.prototype.next=function(e){this.actionsObserver.next(e)},t.prototype.error=function(e){this.actionsObserver.error(e)},t.prototype.complete=function(){this.actionsObserver.complete()},t.prototype.addReducer=function(e,t){this.reducerManager.addReducer(e,t)},t.prototype.removeReducer=function(e){this.reducerManager.removeReducer(e)},t}(r.Observable);J.decorators=[{type:t.Injectable}],J.ctorParameters=function(){return[{type:K},{type:S},{type:V}]};var Q=[J],W=function(){return function(e,t,r){}}();W.decorators=[{type:t.NgModule,args:[{}]}],W.ctorParameters=function(){return[{type:S},{type:P},{type:z}]};var X=function(){function e(e,t,r){this.features=e,this.featureReducers=t,this.reducerManager=r,e.map(function(e,r){var n=t.shift()[r];return Object.assign({},e,{reducers:n,initialState:x(e.initialState)})}).forEach(function(e){return r.addFeature(e)})}return e.prototype.ngOnDestroy=function(){var e=this;this.features.forEach(function(t){return e.reducerManager.removeFeature(t)})},e}();X.decorators=[{type:t.NgModule,args:[{}]}],X.ctorParameters=function(){return[{type:Array,decorators:[{type:t.Inject,args:[M]}]},{type:Array,decorators:[{type:t.Inject,args:[C]}]},{type:V}]};var Z=function(){function e(){}return e.forRoot=function(e,r){return void 0===r&&(r={}),{ngModule:W,providers:[{provide:O,useValue:r.initialState},{provide:T,useFactory:x,deps:[O]},{provide:A,useValue:e},{provide:U,useExisting:e instanceof t.InjectionToken?e:A},{provide:k,deps:[t.Injector,A,[new t.Inject(U)]],useFactory:R},{provide:w,useValue:r.metaReducers?r.metaReducers:[]},{provide:_,useValue:r.reducerFactory?r.reducerFactory:d},{provide:F,deps:[_,w],useFactory:y},E,B,Y,H,Q]}},e.forFeature=function(e,r,n){return void 0===n&&(n={}),{ngModule:X,providers:[{provide:M,multi:!0,useValue:{key:e,reducerFactory:n.reducerFactory?n.reducerFactory:d,metaReducers:n.metaReducers?n.metaReducers:[],initialState:n.initialState}},{provide:D,multi:!0,useValue:r},{provide:q,multi:!0,useExisting:r instanceof t.InjectionToken?r:D},{provide:C,multi:!0,deps:[t.Injector,D,[new t.Inject(q)]],useFactory:b}]}},e}();Z.decorators=[{type:t.NgModule,args:[{}]}],Z.ctorParameters=function(){return[]},e.Store=J,e.select=h,e.combineReducers=d,e.compose=f,e.createReducerFactory=y,e.ActionsSubject=S,e.INIT=m,e.ReducerManager=V,e.ReducerObservable=P,e.ReducerManagerDispatcher=N,e.UPDATE=L,e.ScannedActionsSubject=z,e.createSelector=j,e.createFeatureSelector=function(e){return j(function(t){return t[e]},function(e){return e})},e.State=G,e.StateObservable=K,e.reduceState=v,e.INITIAL_STATE=T,e._REDUCER_FACTORY=_,e.REDUCER_FACTORY=F,e._INITIAL_REDUCERS=A,e.INITIAL_REDUCERS=k,e.STORE_FEATURES=M,e._INITIAL_STATE=O,e.META_REDUCERS=w,e._STORE_REDUCERS=U,e._FEATURE_REDUCERS=D,e.FEATURE_REDUCERS=C,e._FEATURE_REDUCERS_TOKEN=q,e.StoreModule=Z,e.StoreRootModule=W,e.StoreFeatureModule=X,e._initialStateFactory=x,e._createStoreReducers=R,e._createFeatureReducers=b,e.ɵc=E,e.ɵd=B,e.ɵe=Y,e.ɵf=H,e.ɵb=Q,Object.defineProperty(e,"__esModule",{value:!0})});