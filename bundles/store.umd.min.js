!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/BehaviorSubject"),require("rxjs/Observable"),require("rxjs/Subject"),require("rxjs/scheduler/queue"),require("rxjs/operator/observeOn"),require("rxjs/operator/withLatestFrom"),require("rxjs/operator/scan"),require("rxjs/operator/map"),require("rxjs/operator/pluck"),require("rxjs/operator/distinctUntilChanged")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/BehaviorSubject","rxjs/Observable","rxjs/Subject","rxjs/scheduler/queue","rxjs/operator/observeOn","rxjs/operator/withLatestFrom","rxjs/operator/scan","rxjs/operator/map","rxjs/operator/pluck","rxjs/operator/distinctUntilChanged"],t):t((e.ngrx=e.ngrx||{},e.ngrx.store={}),e.ng.core,e.Rx,e.Rx,e.Rx,e.Rx.Scheduler,e.Rx.Observable.prototype,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype)}(this,function(e,t,r,n,o,u,i,c,a,s,p,l){"use strict";function f(e,t){void 0===t&&(t={});for(var r=Object.keys(e),n={},o=0;o<r.length;o++){var u=r[o];"function"==typeof e[u]&&(n[u]=e[u])}var i=Object.keys(n);return function(e,r){void 0===e&&(e=t);for(var o=!1,u={},c=0;c<i.length;c++){var a=i[c],s=n[a],p=e[a],l=s(p,r);u[a]=l,o=o||l!==p}return o?u:e}}function d(e,t){return Object.keys(e).filter(function(e){return e!==t}).reduce(function(t,r){return t[r]=e[r]},{})}function y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){if(0===e.length)return t;var r=e[e.length-1];return e.slice(0,-1).reduceRight(function(e,t){return t(e)},r(t))}}function v(e,t){var r=(void 0===e?{state:void 0}:e).state,n=t[0];return{state:(0,t[1])(r,n),action:n}}function h(e){function t(){n=null,o=null}function r(){if(!n)return o=e.apply(null,arguments),n=arguments,o;for(var t=0;t<arguments.length;t++)if(arguments[t]!==n[t])return o=e.apply(null,arguments),n=arguments,o;return o}var n=null,o=null;return{memoized:r,reset:t}}function b(){function e(){a(),u.forEach(function(e){return e.release()})}for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.slice(0,t.length-1),o=t[t.length-1],u=n.filter(function(e){return e.release&&"function"==typeof e.release}),i=h(function(e){var t=n.map(function(t){return t(e)});return o.apply(null,t)}),c=i.memoized,a=i.reset;return Object.assign(c,{release:e})}function g(e){var t=h(function(t){return t[e]}),r=t.memoized,n=t.reset;return Object.assign(r,{release:n})}function x(e){return"function"==typeof e&&e.release&&"function"==typeof e.release}function j(e){return"function"==typeof e?e():e}var O=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),m=new t.OpaqueToken("_ngrx/store Initial State"),S=new t.OpaqueToken("@ngrx/store Initial State"),R=new t.OpaqueToken("@ngrx/store Reducer Factory"),I=new t.OpaqueToken("@ngrx/store Initial Reducers"),F=new t.OpaqueToken("@ngrx/store Store Features"),E="@ngrx/store/init",T=function(e){function t(){return e.call(this,{type:E})||this}return O(t,e),t.prototype.next=function(t){if(void 0===t)throw new Error("Actions must be objects");if(void 0===t.type)throw new Error("Actions must have a type property");e.prototype.next.call(this,t)},t.prototype.complete=function(){},t.prototype.ngOnDestroy=function(){e.prototype.complete.call(this)},t}(r.BehaviorSubject);T.decorators=[{type:t.Injectable}],T.ctorParameters=function(){return[]};var q=[T],_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t}(n.Observable),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t}(T),M="@ngrx/store/update-reducers",k=function(e){function t(t,r,n,o){var u=e.call(this,o(n,r))||this;return u.dispatcher=t,u.initialState=r,u.reducers=n,u.reducerFactory=o,u}return O(t,e),t.prototype.addFeature=function(e){var t=e.reducers,r=e.reducerFactory,n=e.initialState,o=e.key,u="function"==typeof t?t:r(t,n);this.addReducer(o,u)},t.prototype.removeFeature=function(e){var t=e.key;this.removeReducer(t)},t.prototype.addReducer=function(e,t){this.reducers=Object.assign({},this.reducers,(r={},r[e]=t,r)),this.updateReducers();var r},t.prototype.removeReducer=function(e){this.reducers=d(this.reducers,e),this.updateReducers()},t.prototype.updateReducers=function(){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:M})},t.prototype.ngOnDestroy=function(){this.complete()},t}(r.BehaviorSubject);k.decorators=[{type:t.Injectable}],k.ctorParameters=function(){return[{type:w},{type:void 0,decorators:[{type:t.Inject,args:[S]}]},{type:void 0,decorators:[{type:t.Inject,args:[I]}]},{type:void 0,decorators:[{type:t.Inject,args:[R]}]}]};var A=[k,{provide:_,useExisting:k},{provide:w,useExisting:T}],P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.ngOnDestroy=function(){this.complete()},t}(o.Subject);P.decorators=[{type:t.Injectable}],P.ctorParameters=function(){return[]};var D=[P],N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t}(n.Observable),U=function(e){function t(t,r,n,o){var s=e.call(this,o)||this,p=i.observeOn.call(t,u.queue),l=c.withLatestFrom.call(p,r),f=a.scan.call(l,v,o);return s.stateSubscription=f.subscribe({next:function(e){var t=e.state,r=e.action;s.next(t),n.next(r)}}),s}return O(t,e),t.prototype.ngOnDestroy=function(){this.stateSubscription.unsubscribe(),this.complete()},t}(r.BehaviorSubject);U.INIT="@ngrx/store/init",U.decorators=[{type:t.Injectable}],U.ctorParameters=function(){return[{type:T},{type:_},{type:P},{type:void 0,decorators:[{type:t.Inject,args:[S]}]}]};var C=[U,{provide:N,useExisting:U}],L=function(e){function t(t,r,n){var o=e.call(this)||this;return o.actionsObserver=r,o.reducerManager=n,o.source=t,o}return O(t,e),t.prototype.select=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n;if("string"==typeof e)n=p.pluck.call.apply(p.pluck,[this,e].concat(t));else if("function"==typeof e&&x(e))n=s.map.call(this,e);else{if("function"!=typeof e)throw new TypeError("Unexpected type '"+typeof e+"' in select operator, expected 'string' or 'function'");n=s.map.call(this,b(function(e){return e},e))}return l.distinctUntilChanged.call(n)},t.prototype.lift=function(e){var r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=e,r},t.prototype.dispatch=function(e){this.actionsObserver.next(e)},t.prototype.next=function(e){this.actionsObserver.next(e)},t.prototype.error=function(e){this.actionsObserver.error(e)},t.prototype.complete=function(){this.actionsObserver.complete()},t.prototype.addReducer=function(e,t){this.reducerManager.addReducer(e,t)},t.prototype.removeReducer=function(e){this.reducerManager.removeReducer(e)},t}(n.Observable);L.decorators=[{type:t.Injectable}],L.ctorParameters=function(){return[{type:N},{type:T},{type:k}]};var B=[L],V=function(){function e(){}return e}();V.decorators=[{type:t.NgModule,args:[{}]}],V.ctorParameters=function(){return[]};var z=function(){function e(e,t){this.features=e,this.reducerManager=t,e.forEach(function(e){return t.addFeature(e)})}return e.prototype.ngOnDestroy=function(){var e=this;this.features.forEach(function(t){return e.reducerManager.removeFeature(t)})},e}();z.decorators=[{type:t.NgModule,args:[{}]}],z.ctorParameters=function(){return[{type:Array,decorators:[{type:t.Inject,args:[F]}]},{type:k}]};var Y=function(){function e(){}return e.forRoot=function(e,r){return void 0===r&&(r={}),{ngModule:V,providers:[{provide:m,useValue:r.initialState},{provide:S,useFactory:j,deps:[m]},e instanceof t.InjectionToken?{provide:I,useExisting:e}:{provide:I,useValue:e},{provide:R,useValue:r.reducerFactory?r.reducerFactory:f},q,A,D,C,B]}},e.forFeature=function(e,t,r){return void 0===r&&(r={}),{ngModule:z,providers:[{provide:F,multi:!0,useValue:{key:e,reducers:t,reducerFactory:r.reducerFactory?r.reducerFactory:f,initialState:r.initialState}}]}},e}();Y.decorators=[{type:t.NgModule,args:[{}]}],Y.ctorParameters=function(){return[]},e.StoreModule=Y,e.Store=L,e.combineReducers=f,e.compose=y,e.ActionsSubject=T,e.INIT=E,e.ReducerManager=k,e.ReducerObservable=_,e.ReducerManagerDispatcher=w,e.UPDATE=M,e.ScannedActionsSubject=P,e.createSelector=b,e.createFeatureSelector=g,e.State=U,e.StateObservable=N,e.reduceState=v,e.INITIAL_STATE=S,e.REDUCER_FACTORY=R,e.INITIAL_REDUCERS=I,e.STORE_FEATURES=F,e._INITIAL_STATE=m,e.StoreRootModule=V,e.StoreFeatureModule=z,e._initialStateFactory=j,e.ɵc=q,e.ɵd=A,e.ɵe=D,e.ɵf=C,e.ɵb=B,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=./dist/store/bundles/store.umd.min.js.map