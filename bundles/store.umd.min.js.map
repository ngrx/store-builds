{"version":3,"sources":["modules/store/store.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","ngrx","store","ng","core","rxjs","operators","this","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__metadata","k","v","Reflect","metadata","INIT","ActionsSubject","_super","call","type","next","action","TypeError","complete","ngOnDestroy","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","decorate","i","defineProperty","__decorate","Injectable","BehaviorSubject","ACTIONS_SUBJECT_PROVIDERS","_INITIAL_STATE","InjectionToken","INITIAL_STATE","REDUCER_FACTORY","_REDUCER_FACTORY","INITIAL_REDUCERS","_INITIAL_REDUCERS","META_REDUCERS","STORE_FEATURES","_STORE_REDUCERS","_FEATURE_REDUCERS","_FEATURE_CONFIGS","_STORE_FEATURES","_FEATURE_REDUCERS_TOKEN","FEATURE_REDUCERS","__read","o","n","m","Symbol","iterator","e","ar","done","push","value","error","__spread","concat","combineReducers","reducers","initialState","reducerKeys","keys","finalReducers","finalReducerKeys","combination","state","undefined","hasChanged","nextState","previousStateForKey","nextStateForKey","reducer","compose","functions","_i","arg","last","slice","reduceRight","composed","fn","createReducerFactory","reducerFactory","metaReducers","isArray","apply","__extends$1","__assign","assign","t","s","__metadata$1","__param","paramIndex","decorator","ReducerObservable","Observable","ReducerManagerDispatcher","UPDATE","ReducerManager","dispatcher","_this","addFeature","feature","addFeatures","features","reduce","reducerDict","_a","createFeatureReducerFactory","addReducers","removeFeature","removeFeatures","removeReducers","map","addReducer","updateReducers","removeReducer","featureKey","featureKeys","forEach","omit","object","keyToRemove","filter","result","__decorate$1","Inject","Function","REDUCER_MANAGER_PROVIDERS","provide","useExisting","__extends$2","ScannedActionsSubject","__decorate$2","Subject","SCANNED_ACTIONS_SUBJECT_PROVIDERS","__extends$3","__metadata$2","__read$1","StateObservable","State","actions$","reducer$","scannedActions","stateAndAction$","pipe","observeOn","queueScheduler","withLatestFrom","scan","reduceState","stateSubscription","subscribe","unsubscribe","__decorate$3","stateActionPair","_b","STATE_PROVIDERS","__extends$4","__metadata$3","__read$2","__spread$1","Store","state$","actionsObserver","reducerManager","source","Store_1","select","pathOrMapFn","paths","lift","operator","dispatch","err","__decorate$4","STORE_PROVIDERS","propsOrPath","selectOperator","source$","mapped$","pathSlices","Boolean","pluck","distinctUntilChanged","__read$3","__spread$2","isEqualCheck","a","defaultMemoize","projectionFn","isArgumentsEqual","isResultEqual","lastArguments","lastResult","memoized","isArgumentsChanged","args","comparator","newResult","reset","createSelector","input","createSelectorFactory","defaultStateFn","selectors","props","memoizedProjector","args_1","memoize","options","stateFn","head","tail","projector","memoizedSelectors","selector","release","memoizedState","__assign$1","__decorate$5","__metadata$4","__param$2","StoreRootModule","NgModule","scannedActions$","StoreFeatureModule","featureReducers","root","feats","index","featureReducerCollection","shift","_initialStateFactory","StoreModule","forRoot","config","ngModule","providers","useValue","useFactory","deps","Injector","_createStoreReducers","forFeature","featureName","multi","_createFeatureStore","_createFeatureReducers","injector","tokenReducers","get","configs","featureStores","feat","conf","reducerCollection","tokenReducerCollection","ɵngrx_modules_store_store_c","ɵngrx_modules_store_store_d","ɵngrx_modules_store_store_e","ɵngrx_modules_store_store_f","ɵngrx_modules_store_store_g","ɵngrx_modules_store_store_b","ɵngrx_modules_store_store_j","ɵngrx_modules_store_store_h","ɵngrx_modules_store_store_i","createFeatureSelector","featureState","resultMemoize"],"mappings":";;;;;CAKC,SAAUA,EAAQC,GACI,iBAAZC,SAA0C,oBAAXC,OAAyBF,EAAQC,QAASE,QAAQ,iBAAkBA,QAAQ,QAASA,QAAQ,mBACjH,mBAAXC,QAAyBA,OAAOC,IAAMD,OAAO,cAAe,CAAC,UAAW,gBAAiB,OAAQ,kBAAmBJ,GACjGA,IAAzBD,EAASA,GAAUO,MAAsBC,KAAOR,EAAOQ,MAAQ,GAAIR,EAAOQ,KAAKC,MAAQ,IAAKT,EAAOU,GAAGC,KAAMX,EAAOY,KAAMZ,EAAOY,KAAKC,WAH1I,CAIEC,KAAM,SAAUZ,EAASS,EAAMC,EAAMC,GAAa,aAEhD,IACQE,EADJC,GACID,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBI,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAErB,SAAUD,EAAGC,GAEhB,SAASO,IAAOX,KAAKY,YAAcT,EADnCF,EAAcE,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,KASnFI,EAAoD,SAAUC,EAAGC,GACjE,GAAuB,iBAAZC,SAAoD,mBAArBA,QAAQC,SAAyB,OAAOD,QAAQC,SAASH,EAAGC,IAEtGG,EAAO,mBACPC,EAAgC,SAAUC,GAE1C,SAASD,IACL,OAAOC,EAAOC,KAAKvB,KAAM,CAAEwB,KAAMJ,KAAWpB,KAqBhD,OAvBAE,EAAUmB,EAAgBC,GAI1BD,EAAeR,UAAUY,KAAO,SAAUC,GACtC,QAAsB,IAAXA,EACP,MAAM,IAAIC,UAAU,2BAEnB,QAA2B,IAAhBD,EAAOF,KACnB,MAAM,IAAIG,UAAU,qCAExBL,EAAOT,UAAUY,KAAKF,KAAKvB,KAAM0B,IAErCL,EAAeR,UAAUe,SAAW,aAGpCP,EAAeR,UAAUgB,YAAc,WACnCP,EAAOT,UAAUe,SAASL,KAAKvB,OA5BiB,SAAU8B,EAAYC,EAAQC,EAAKC,GACvF,IAA2H9B,EAAvH+B,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAO5B,OAAOiC,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZf,SAAoD,mBAArBA,QAAQqB,SAAyBF,EAAInB,QAAQqB,SAAST,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIO,EAAIV,EAAWM,OAAS,EAAGI,GAAK,EAAGA,KAASrC,EAAI2B,EAAWU,MAAIH,GAAKH,EAAI,EAAI/B,EAAEkC,GAAKH,EAAI,EAAI/B,EAAE4B,EAAQC,EAAKK,GAAKlC,EAAE4B,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKhC,OAAOoC,eAAeV,EAAQC,EAAKK,GAAIA,EA0B3CK,CAAW,CACxB7C,EAAK8C,aACL5B,EAAW,oBAAqB,KACjCM,GAvB4B,CAyBjCvB,EAAK8C,iBACHC,EAA4B,CAACxB,GAE7ByB,EAAiB,IAAIjD,EAAKkD,eAAe,sCACzCC,EAAgB,IAAInD,EAAKkD,eAAe,6BACxCE,EAAkB,IAAIpD,EAAKkD,eAAe,+BAC1CG,EAAmB,IAAIrD,EAAKkD,eAAe,wCAC3CI,EAAmB,IAAItD,EAAKkD,eAAe,gCAC3CK,EAAoB,IAAIvD,EAAKkD,eAAe,yCAC5CM,EAAgB,IAAIxD,EAAKkD,eAAe,6BACxCO,EAAiB,IAAIzD,EAAKkD,eAAe,8BACzCQ,EAAkB,IAAI1D,EAAKkD,eAAe,uCAC1CS,EAAoB,IAAI3D,EAAKkD,eAAe,yCAC5CU,EAAmB,IAAI5D,EAAKkD,eAAe,wCAC3CW,EAAkB,IAAI7D,EAAKkD,eAAe,uCAC1CY,EAA0B,IAAI9D,EAAKkD,eAAe,+CAClDa,EAAmB,IAAI/D,EAAKkD,eAAe,gCAE3Cc,EAA4C,SAAUC,EAAGC,GACzD,IAAIC,EAAsB,mBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBzB,EAAY8B,EAA3B3B,EAAIwB,EAAEzC,KAAKuC,GAAOM,EAAK,GAC3B,IACI,WAAc,IAANL,GAAgBA,KAAM,MAAQ1B,EAAIG,EAAEf,QAAQ4C,MAAMD,EAAGE,KAAKjC,EAAEkC,OAExE,MAAOC,GAASL,EAAI,CAAEK,MAAOA,GAC7B,QACI,IACQnC,IAAMA,EAAEgC,OAASL,EAAIxB,EAAU,SAAIwB,EAAEzC,KAAKiB,GAElD,QAAU,GAAI2B,EAAG,MAAMA,EAAEK,OAE7B,OAAOJ,GAEPK,EAAgD,WAChD,IAAK,IAAIL,EAAK,GAAI5B,EAAI,EAAGA,EAAIL,UAAUC,OAAQI,IAAK4B,EAAKA,EAAGM,OAAOb,EAAO1B,UAAUK,KACpF,OAAO4B,GAEX,SAASO,EAAgBC,EAAUC,QACV,IAAjBA,IAA2BA,EAAe,IAG9C,IAFA,IAAIC,EAAczE,OAAO0E,KAAKH,GAC1BI,EAAgB,GACXxC,EAAI,EAAGA,EAAIsC,EAAY1C,OAAQI,IAAK,CACzC,IAAIR,EAAM8C,EAAYtC,GACO,mBAAlBoC,EAAS5C,KAChBgD,EAAchD,GAAO4C,EAAS5C,IAGtC,IAAIiD,EAAmB5E,OAAO0E,KAAKC,GACnC,OAAO,SAASE,EAAYC,EAAOzD,GAC/ByD,OAAkBC,IAAVD,EAAsBN,EAAeM,EAG7C,IAFA,IAAIE,GAAa,EACbC,EAAY,GACP9C,EAAI,EAAGA,EAAIyC,EAAiB7C,OAAQI,IAAK,CAC9C,IAAIR,EAAMiD,EAAiBzC,GAEvB+C,EAAsBJ,EAAMnD,GAC5BwD,GAAkBC,EAFRT,EAAchD,IAEEuD,EAAqB7D,GACnD4D,EAAUtD,GAAOwD,EACjBH,EAAaA,GAAcG,IAAoBD,EAEnD,OAAOF,EAAaC,EAAYH,GAWxC,SAASO,IAEL,IADA,IAAIC,EAAY,GACPC,EAAK,EAAGA,EAAKzD,UAAUC,OAAQwD,IACpCD,EAAUC,GAAMzD,UAAUyD,GAE9B,OAAO,SAAUC,GACb,GAAyB,IAArBF,EAAUvD,OACV,OAAOyD,EAEX,IAAIC,EAAOH,EAAUA,EAAUvD,OAAS,GAExC,OADWuD,EAAUI,MAAM,GAAI,GACnBC,YAAY,SAAUC,EAAUC,GAAM,OAAOA,EAAGD,IAAcH,EAAKD,KAGvF,SAASM,EAAqBC,EAAgBC,GAI1C,OAHI7F,MAAM8F,QAAQD,IAAiBA,EAAajE,OAAS,IACrDgE,EAAiBV,EAAQa,MAAM,KAAM9B,EAAS4B,EAAc,CAACD,MAE1D,SAAUxB,EAAUC,GACvB,IAAIY,EAAUW,EAAexB,GAC7B,OAAO,SAAUO,EAAOzD,GAEpB,OAAO+D,EADPN,OAAkBC,IAAVD,EAAsBN,EAAeM,EACvBzD,KAgBlC,IAAI8E,EAAoD,WACpD,IAAIvG,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBI,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOX,KAAKY,YAAcT,EADnCF,EAAcE,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,IAV/B,GAapD8F,EAAgD,WAShD,OARAA,EAAWpG,OAAOqG,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGpE,EAAI,EAAGuB,EAAI5B,UAAUC,OAAQI,EAAIuB,EAAGvB,IAE5C,IAAK,IAAI/B,KADTmG,EAAIzE,UAAUK,GACOnC,OAAOQ,UAAUH,eAAea,KAAKqF,EAAGnG,KACzDkG,EAAElG,GAAKmG,EAAEnG,IAEjB,OAAOkG,IAEKJ,MAAMvG,KAAMmC,YAQ5B0E,EAAsD,SAAU7F,EAAGC,GACnE,GAAuB,iBAAZC,SAAoD,mBAArBA,QAAQC,SAAyB,OAAOD,QAAQC,SAASH,EAAGC,IAEtG6F,EAA8C,SAAUC,EAAYC,GACpE,OAAO,SAAUjF,EAAQC,GAAOgF,EAAUjF,EAAQC,EAAK+E,KAEvDE,EAAmC,SAAU3F,GAE7C,SAAS2F,IACL,OAAkB,OAAX3F,GAAmBA,EAAOiF,MAAMvG,KAAMmC,YAAcnC,KAE/D,OAJAwG,EAAYS,EAAmB3F,GAIxB2F,EAL2B,CAMpCnH,EAAKoH,YACHC,EAA0C,SAAU7F,GAEpD,SAAS6F,IACL,OAAkB,OAAX7F,GAAmBA,EAAOiF,MAAMvG,KAAMmC,YAAcnC,KAE/D,OAJAwG,EAAYW,EAA0B7F,GAI/B6F,EALkC,CAM3C9F,GACE+F,EAAS,8BACTC,EAAgC,SAAU/F,GAE1C,SAAS+F,EAAeC,EAAYzC,EAAcD,EAAUwB,GACxD,IAAImB,EAAQjG,EAAOC,KAAKvB,KAAMoG,EAAexB,EAAUC,KAAkB7E,KAKzE,OAJAuH,EAAMD,WAAaA,EACnBC,EAAM1C,aAAeA,EACrB0C,EAAM3C,SAAWA,EACjB2C,EAAMnB,eAAiBA,EAChBmB,EAyDX,OAhEAf,EAAYa,EAAgB/F,GAS5B+F,EAAexG,UAAU2G,WAAa,SAAUC,GAC5CzH,KAAK0H,YAAY,CAACD,KAEtBJ,EAAexG,UAAU6G,YAAc,SAAUC,GAC7C,IAAI/C,EAAW+C,EAASC,OAAO,SAAUC,EAAaC,GAClD,IAAIlD,EAAWkD,EAAGlD,SAAUwB,EAAiB0B,EAAG1B,eAAgBC,EAAeyB,EAAGzB,aAAcxB,EAAeiD,EAAGjD,aAAc7C,EAAM8F,EAAG9F,IACrIyD,EAA8B,mBAAbb,EA/EjC,SAASmD,EAA4B1B,GACjC,IAAID,EAAiB5F,MAAM8F,QAAQD,IAAiBA,EAAajE,OAAS,EACpEsD,EAAQa,WAAM,EAAQ9B,EAAS4B,IAAiB,SAAUhE,GAAK,OAAOA,GAC5E,OAAO,SAAUoD,EAASZ,GAEtB,OADAY,EAAUW,EAAeX,GAClB,SAAUN,EAAOzD,GAEpB,OAAO+D,EADPN,OAAkBC,IAAVD,EAAsBN,EAAeM,EACvBzD,KAyEhBqG,CAA4B1B,EAA5B0B,CAA0CnD,EAAUC,GACpDsB,EAAqBC,EAAgBC,EAArCF,CAAmDvB,EAAUC,GAEnE,OADAgD,EAAY7F,GAAOyD,EACZoC,GACR,IACH7H,KAAKgI,YAAYpD,IAErByC,EAAexG,UAAUoH,cAAgB,SAAUR,GAC/CzH,KAAKkI,eAAe,CAACT,KAEzBJ,EAAexG,UAAUqH,eAAiB,SAAUP,GAChD3H,KAAKmI,eAAeR,EAASS,IAAI,SAAU3H,GAAK,OAAOA,EAAEuB,QAE7DqF,EAAexG,UAAUwH,WAAa,SAAUrG,EAAKyD,GACjD,IAAIqC,EACJ9H,KAAKgI,cAAaF,EAAK,IAAO9F,GAAOyD,EAASqC,KAElDT,EAAexG,UAAUmH,YAAc,SAAUpD,GAC7C5E,KAAK4E,SAAW6B,EAAS,GAAIzG,KAAK4E,SAAUA,GAC5C5E,KAAKsI,eAAejI,OAAO0E,KAAKH,KAEpCyC,EAAexG,UAAU0H,cAAgB,SAAUC,GAC/CxI,KAAKmI,eAAe,CAACK,KAEzBnB,EAAexG,UAAUsH,eAAiB,SAAUM,GAChD,IAAIlB,EAAQvH,KACZyI,EAAYC,QAAQ,SAAU1G,GAC1BuF,EAAM3C,SA7IlB,SAAS+D,EAAKC,EAAQC,GAClB,OAAOxI,OAAO0E,KAAK6D,GACdE,OAAO,SAAU9G,GAAO,OAAOA,IAAQ6G,IACvCjB,OAAO,SAAUmB,EAAQ/G,GAC1B,IAAI8F,EACJ,OAAOzH,OAAOqG,OAAOqC,IAASjB,EAAK,IAAO9F,GAAO4G,EAAO5G,GAAM8F,KAC/D,IAuIsBa,CAAKpB,EAAM3C,SAAU5C,KAE1ChC,KAAKsI,eAAeG,IAExBpB,EAAexG,UAAUyH,eAAiB,SAAUG,GAChDzI,KAAKyB,KAAKzB,KAAKoG,eAAepG,KAAK4E,SAAU5E,KAAK6E,eAClD7E,KAAKsH,WAAW7F,KAAK,CACjBD,KAAM4F,EACNO,SAAUc,KAGlBpB,EAAexG,UAAUgB,YAAc,WACnC7B,KAAK4B,YAnF6C,SAAUE,EAAYC,EAAQC,EAAKC,GACzF,IAA2H9B,EAAvH+B,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAO5B,OAAOiC,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZf,SAAoD,mBAArBA,QAAQqB,SAAyBF,EAAInB,QAAQqB,SAAST,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIO,EAAIV,EAAWM,OAAS,EAAGI,GAAK,EAAGA,KAASrC,EAAI2B,EAAWU,MAAIH,GAAKH,EAAI,EAAI/B,EAAEkC,GAAKH,EAAI,EAAI/B,EAAE4B,EAAQC,EAAKK,GAAKlC,EAAE4B,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKhC,OAAOoC,eAAeV,EAAQC,EAAKK,GAAIA,EAiF3C2G,CAAa,CAC1BnJ,EAAK8C,aACLmE,EAAQ,EAAGjH,EAAKoJ,OAAOjG,IACvB8D,EAAQ,EAAGjH,EAAKoJ,OAAO9F,IACvB2D,EAAQ,EAAGjH,EAAKoJ,OAAOhG,IACvB4D,EAAa,oBAAqB,CAACM,EAA0B9G,OAAQA,OAAQ6I,YAC9E7B,GAhE4B,CAkEjCvH,EAAK8C,iBACHuG,EAA4B,CAC5B9B,EACA,CAAE+B,QAASnC,EAAmBoC,YAAahC,GAC3C,CAAE+B,QAASjC,EAA0BkC,YAAahI,IAGlDiI,EAAoD,WACpD,IAAIrJ,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBI,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOX,KAAKY,YAAcT,EADnCF,EAAcE,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,IAV/B,GAmBpD4I,EAAuC,SAAUjI,GAEjD,SAASiI,IACL,OAAkB,OAAXjI,GAAmBA,EAAOiF,MAAMvG,KAAMmC,YAAcnC,KAQ/D,OAVAsJ,EAAYC,EAAuBjI,GAInCiI,EAAsB1I,UAAUgB,YAAc,WAC1C7B,KAAK4B,YAZ6C,SAAUE,EAAYC,EAAQC,EAAKC,GACzF,IAA2H9B,EAAvH+B,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAO5B,OAAOiC,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZf,SAAoD,mBAArBA,QAAQqB,SAAyBF,EAAInB,QAAQqB,SAAST,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIO,EAAIV,EAAWM,OAAS,EAAGI,GAAK,EAAGA,KAASrC,EAAI2B,EAAWU,MAAIH,GAAKH,EAAI,EAAI/B,EAAEkC,GAAKH,EAAI,EAAI/B,EAAE4B,EAAQC,EAAKK,GAAKlC,EAAE4B,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKhC,OAAOoC,eAAeV,EAAQC,EAAKK,GAAIA,EAUpCmH,CAAa,CACjC3J,EAAK8C,cACN4G,GAVmC,CAYxCzJ,EAAK2J,SACHC,EAAoC,CACpCH,GAGAI,EAAoD,WACpD,IAAI1J,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBI,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOX,KAAKY,YAAcT,EADnCF,EAAcE,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,IAV/B,GAmBpDiJ,EAAsD,SAAU5I,EAAGC,GACnE,GAAuB,iBAAZC,SAAoD,mBAArBA,QAAQC,SAAyB,OAAOD,QAAQC,SAASH,EAAGC,IAKtG4I,EAA8C,SAAU/F,EAAGC,GAC3D,IAAIC,EAAsB,mBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBzB,EAAY8B,EAA3B3B,EAAIwB,EAAEzC,KAAKuC,GAAOM,EAAK,GAC3B,IACI,WAAc,IAANL,GAAgBA,KAAM,MAAQ1B,EAAIG,EAAEf,QAAQ4C,MAAMD,EAAGE,KAAKjC,EAAEkC,OAExE,MAAOC,GAASL,EAAI,CAAEK,MAAOA,GAC7B,QACI,IACQnC,IAAMA,EAAEgC,OAASL,EAAIxB,EAAU,SAAIwB,EAAEzC,KAAKiB,GAElD,QAAU,GAAI2B,EAAG,MAAMA,EAAEK,OAE7B,OAAOJ,GAEP0F,EAAiC,SAAUxI,GAE3C,SAASwI,IACL,OAAkB,OAAXxI,GAAmBA,EAAOiF,MAAMvG,KAAMmC,YAAcnC,KAE/D,OAJA2J,EAAYG,EAAiBxI,GAItBwI,EALyB,CAMlChK,EAAKoH,YACH6C,EAAuB,SAAUzI,GAEjC,SAASyI,EAAMC,EAAUC,EAAUC,EAAgBrF,GAC/C,IAAI0C,EAAQjG,EAAOC,KAAKvB,KAAM6E,IAAiB7E,KAI3CmK,EAHkBH,EAASI,KAAKrK,EAAUsK,UAAUvK,EAAKwK,iBACpBF,KAAKrK,EAAUwK,eAAeN,IAE9BG,KAAKrK,EAAUyK,KAAKC,EADlD,CAAEtF,MAAON,KAOpB,OALA0C,EAAMmD,kBAAoBP,EAAgBQ,UAAU,SAAU7C,GAC1D,IAAsBpG,EAASoG,EAAGpG,OAClC6F,EAAM9F,KADMqG,EAAG3C,OAEf+E,EAAezI,KAAKC,KAEjB6F,EAcX,OA1BAoC,EAAYI,EAAOzI,GAcnByI,EAAMlJ,UAAUgB,YAAc,WAC1B7B,KAAK0K,kBAAkBE,cACvB5K,KAAK4B,YAETmI,EAAM3I,KAAOA,EAtDyC,SAAUU,EAAYC,EAAQC,EAAKC,GACzF,IAA2H9B,EAAvH+B,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAO5B,OAAOiC,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZf,SAAoD,mBAArBA,QAAQqB,SAAyBF,EAAInB,QAAQqB,SAAST,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIO,EAAIV,EAAWM,OAAS,EAAGI,GAAK,EAAGA,KAASrC,EAAI2B,EAAWU,MAAIH,GAAKH,EAAI,EAAI/B,EAAEkC,GAAKH,EAAI,EAAI/B,EAAE4B,EAAQC,EAAKK,GAAKlC,EAAE4B,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKhC,OAAOoC,eAAeV,EAAQC,EAAKK,GAAIA,EAmDpDwI,CAAa,CACjBhL,EAAK8C,cACK,EAhDwDqE,EAgDrDnH,EAAKoJ,OAAOjG,GA/CtB,SAAUjB,EAAQC,GAAOgF,EAAUjF,EAAQC,EA+CpC,KACV4H,EAAa,oBAAqB,CAACvI,EAC/B4F,EACAsC,EAAuBlJ,UAC5B0J,GApD6C,IAAsB/C,EA0BhD,CA4BxBlH,EAAK8C,iBACP,SAAS6H,EAAYK,EAAiBhD,QACV,IAApBgD,IAA8BA,EAAkB,CAAE3F,WAAOC,IAC7D,IAAI2F,EAAKlB,EAAS/B,EAAI,GAAIpG,EAASqJ,EAAG,GAEtC,MAAO,CAAE5F,OAAOM,EAFoCsF,EAAG,IAC3CD,EAAgB3F,MACGzD,GAASA,OAAQA,GAEpD,IAAIsJ,EAAkB,CAClBjB,EACA,CAAEX,QAASU,EAAiBT,YAAaU,IAGzCkB,EAAoD,WACpD,IAAIhL,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBI,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOX,KAAKY,YAAcT,EADnCF,EAAcE,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,IAV/B,GAmBpDuK,EAAsD,SAAUlK,EAAGC,GACnE,GAAuB,iBAAZC,SAAoD,mBAArBA,QAAQC,SAAyB,OAAOD,QAAQC,SAASH,EAAGC,IAEtGkK,EAA8C,SAAUrH,EAAGC,GAC3D,IAAIC,EAAsB,mBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBzB,EAAY8B,EAA3B3B,EAAIwB,EAAEzC,KAAKuC,GAAOM,EAAK,GAC3B,IACI,WAAc,IAANL,GAAgBA,KAAM,MAAQ1B,EAAIG,EAAEf,QAAQ4C,MAAMD,EAAGE,KAAKjC,EAAEkC,OAExE,MAAOC,GAASL,EAAI,CAAEK,MAAOA,GAC7B,QACI,IACQnC,IAAMA,EAAEgC,OAASL,EAAIxB,EAAU,SAAIwB,EAAEzC,KAAKiB,GAElD,QAAU,GAAI2B,EAAG,MAAMA,EAAEK,OAE7B,OAAOJ,GAEPgH,EAAkD,WAClD,IAAK,IAAIhH,EAAK,GAAI5B,EAAI,EAAGA,EAAIL,UAAUC,OAAQI,IAAK4B,EAAKA,EAAGM,OAAOyG,EAAShJ,UAAUK,KACtF,OAAO4B,GAEPiH,EAAuB,SAAU/J,GAEjC,SAAS+J,EAAMC,EAAQC,EAAiBC,GACpC,IAAIjE,EAAQjG,EAAOC,KAAKvB,OAASA,KAIjC,OAHAuH,EAAMgE,gBAAkBA,EACxBhE,EAAMiE,eAAiBA,EACvBjE,EAAMkE,OAASH,EACR/D,EAiCX,IAAImE,EAOJ,OA9CAT,EAAYI,EAAO/J,GAQnBoK,EAAUL,EACVA,EAAMxK,UAAU8K,OAAS,SAAUC,GAE/B,IADA,IAAIC,EAAQ,GACHjG,EAAK,EAAGA,EAAKzD,UAAUC,OAAQwD,IACpCiG,EAAMjG,EAAK,GAAKzD,UAAUyD,GAE9B,OAAO+F,GAAOpK,KAAKgF,MAAMoF,GAAQP,EAAW,CAAC,KAAMQ,GAAcC,GAA1DF,CAAkE3L,OAE7EqL,EAAMxK,UAAUiL,KAAO,SAAUC,GAC7B,IAAIpM,EAAQ,IAAI+L,EAAQ1L,KAAMA,KAAKuL,gBAAiBvL,KAAKwL,gBAEzD,OADA7L,EAAMoM,SAAWA,EACVpM,GAEX0L,EAAMxK,UAAUmL,SAAW,SAAUtK,GACjC1B,KAAKuL,gBAAgB9J,KAAKC,IAE9B2J,EAAMxK,UAAUY,KAAO,SAAUC,GAC7B1B,KAAKuL,gBAAgB9J,KAAKC,IAE9B2J,EAAMxK,UAAU2D,MAAQ,SAAUyH,GAC9BjM,KAAKuL,gBAAgB/G,MAAMyH,IAE/BZ,EAAMxK,UAAUe,SAAW,WACvB5B,KAAKuL,gBAAgB3J,YAEzByJ,EAAMxK,UAAUwH,WAAa,SAAUrG,EAAKyD,GACxCzF,KAAKwL,eAAenD,WAAWrG,EAAKyD,IAExC4F,EAAMxK,UAAU0H,cAAgB,SAAUvG,GACtChC,KAAKwL,eAAejD,cAAcvG,IAG9B0J,EAtE8C,SAAU5J,EAAYC,EAAQC,EAAKC,GACzF,IAA2H9B,EAAvH+B,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAO5B,OAAOiC,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZf,SAAoD,mBAArBA,QAAQqB,SAAyBF,EAAInB,QAAQqB,SAAST,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIO,EAAIV,EAAWM,OAAS,EAAGI,GAAK,EAAGA,KAASrC,EAAI2B,EAAWU,MAAIH,GAAKH,EAAI,EAAI/B,EAAEkC,GAAKH,EAAI,EAAI/B,EAAE4B,EAAQC,EAAKK,GAAKlC,EAAE4B,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKhC,OAAOoC,eAAeV,EAAQC,EAAKK,GAAIA,EAkE1C6J,CAAa,CAC3BrM,EAAK8C,aACLuI,EAAa,oBAAqB,CAACpB,EAC/BzI,EACAgG,KACLgE,GA9CmB,CAgDxBvL,EAAKoH,YACHiF,EAAkB,CAACd,GACvB,SAASM,GAAOC,EAAaQ,GAEzB,IADA,IAAIP,EAAQ,GACHjG,EAAK,EAAGA,EAAKzD,UAAUC,OAAQwD,IACpCiG,EAAMjG,EAAK,GAAKzD,UAAUyD,GAE9B,OAAO,SAASyG,EAAeC,GAC3B,IAAIC,EACJ,GAA2B,iBAAhBX,EAA0B,CACjC,IAAIY,EAAapB,EAAW,CAACgB,GAAcP,GAAO/C,OAAO2D,SACzDF,EAAUD,EAAQlC,KAAKrK,EAAU2M,MAAMnG,WAAM,EAAQ6E,EAAW,CAACQ,GAAcY,SAE9E,CAAA,GAA2B,mBAAhBZ,EAIZ,MAAM,IAAIjK,UAAU,2BAA6BiK,EAAc,yDAH/DW,EAAUD,EAAQlC,KAAKrK,EAAUqI,IAAI,SAAUqD,GAAU,OAAOG,EAAYH,EAAQW,MAMxF,OAAOG,EAAQnC,KAAKrK,EAAU4M,yBAItC,IAAIC,GAA8C,SAAU9I,EAAGC,GAC3D,IAAIC,EAAsB,mBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBzB,EAAY8B,EAA3B3B,EAAIwB,EAAEzC,KAAKuC,GAAOM,EAAK,GAC3B,IACI,WAAc,IAANL,GAAgBA,KAAM,MAAQ1B,EAAIG,EAAEf,QAAQ4C,MAAMD,EAAGE,KAAKjC,EAAEkC,OAExE,MAAOC,GAASL,EAAI,CAAEK,MAAOA,GAC7B,QACI,IACQnC,IAAMA,EAAEgC,OAASL,EAAIxB,EAAU,SAAIwB,EAAEzC,KAAKiB,GAElD,QAAU,GAAI2B,EAAG,MAAMA,EAAEK,OAE7B,OAAOJ,GAEPyI,GAAkD,WAClD,IAAK,IAAIzI,EAAK,GAAI5B,EAAI,EAAGA,EAAIL,UAAUC,OAAQI,IAAK4B,EAAKA,EAAGM,OAAOkI,GAASzK,UAAUK,KACtF,OAAO4B,GAEX,SAAS0I,GAAaC,EAAG3M,GACrB,OAAO2M,IAAM3M,EAajB,SAAS4M,GAAeC,EAAcC,EAAkBC,QAC3B,IAArBD,IAA+BA,EAAmBJ,SAChC,IAAlBK,IAA4BA,EAAgBL,IAChD,IAAIM,EAAgB,KAEhBC,EAAa,KAuBjB,MAAO,CAAEC,SAjBT,SAASA,IACL,IAAKF,EAGD,OAFAC,EAAaJ,EAAa1G,MAAM,KAAMpE,WACtCiL,EAAgBjL,UACTkL,EAEX,IA5BR,SAASE,EAAmBC,EAAMJ,EAAeK,GAC7C,IAAK,IAAIjL,EAAI,EAAGA,EAAIgL,EAAKpL,OAAQI,IAC7B,IAAKiL,EAAWD,EAAKhL,GAAI4K,EAAc5K,IACnC,OAAO,EAGf,OAAO,EAsBE+K,CAAmBpL,UAAWiL,EAAeF,GAC9C,OAAOG,EAEXD,EAAgBjL,UAChB,IAAIuL,EAAYT,EAAa1G,MAAM,KAAMpE,WACzC,OAAIgL,EAAcE,EAAYK,GACnBL,GAEXA,EAAaK,EACNA,IAEkBC,MAtB7B,SAASA,IACLP,EAAgB,KAChBC,EAAa,OAsBrB,SAASO,KAEL,IADA,IAAIC,EAAQ,GACHjI,EAAK,EAAGA,EAAKzD,UAAUC,OAAQwD,IACpCiI,EAAMjI,GAAMzD,UAAUyD,GAE1B,OAAOkI,GAAsBd,IAAgBzG,WAAM,EAAQsG,GAAWgB,IAE1E,SAASE,GAAe5I,EAAO6I,EAAWC,EAAOC,GAC7C,QAAc9I,IAAV6I,EAAqB,CACrB,IAAIE,EAASH,EAAU5F,IAAI,SAAUlC,GAAM,OAAOA,EAAGf,KACrD,OAAO+I,EAAkBZ,SAAS/G,MAAM,KAAM4H,GAElD,IAAIX,EAAOQ,EAAU5F,IAAI,SAAUlC,GAC/B,OAAOA,EAAGf,EAAO8I,KAErB,OAAOC,EAAkBZ,SAAS/G,MAAM,KAAMsG,GAAWW,EAAM,CAACS,KAEpE,SAASH,GAAsBM,EAASC,GAIpC,YAHgB,IAAZA,IAAsBA,EAAU,CAChCC,QAASP,KAEN,WAEH,IADA,IAAIF,EAAQ,GACHjI,EAAK,EAAGA,EAAKzD,UAAUC,OAAQwD,IACpCiI,EAAMjI,GAAMzD,UAAUyD,GAE1B,IAAI4H,EAAOK,EACX,GAAIrN,MAAM8F,QAAQkH,EAAK,IAAK,CACxB,IAAI1F,EAAK8E,GAASY,GAAOe,EAAOzG,EAAG,GAAI0G,EAAO1G,EAAG/B,MAAM,GACvDyH,EAAOX,GAAW0B,EAAMC,GAE5B,IAAIR,EAAYR,EAAKzH,MAAM,EAAGyH,EAAKpL,OAAS,GACxCqM,EAAYjB,EAAKA,EAAKpL,OAAS,GAC/BsM,EAAoBV,EAAUlF,OAAO,SAAU6F,GAC/C,OAAOA,EAASC,SAAuC,mBAArBD,EAASC,UAE3CV,EAAoBE,EAAQ,WAE5B,IADA,IAAIJ,EAAY,GACPpI,EAAK,EAAGA,EAAKzD,UAAUC,OAAQwD,IACpCoI,EAAUpI,GAAMzD,UAAUyD,GAE9B,OAAO6I,EAAUlI,MAAM,KAAMyH,KAE7Ba,EAAgB7B,GAAe,SAAU7H,EAAO8I,GAGhD,OAAyB,IAArBD,EAAU5L,aAA0BgD,IAAV6I,EACnBQ,EAAUlI,MAAM,KAAM,CAACpB,EAAO8I,IAElCI,EAAQC,QAAQ/H,MAAM,KAAM,CAC/BpB,EACA6I,EACAC,EACAC,MAQR,OAAO7N,OAAOqG,OAAOmI,EAAcvB,SAAU,CACzCsB,QANJ,SAASA,IACLC,EAAclB,QACdO,EAAkBP,QAClBe,EAAkBhG,QAAQ,SAAUiG,GAAY,OAAOA,EAASC,aAIhEH,UAAWP,EAAkBZ,YAQzC,IAAIwB,GAAkD,WASlD,OARAA,GAAazO,OAAOqG,QAAU,SAASC,GACnC,IAAK,IAAIC,EAAGpE,EAAI,EAAGuB,EAAI5B,UAAUC,OAAQI,EAAIuB,EAAGvB,IAE5C,IAAK,IAAI/B,KADTmG,EAAIzE,UAAUK,GACOnC,OAAOQ,UAAUH,eAAea,KAAKqF,EAAGnG,KACzDkG,EAAElG,GAAKmG,EAAEnG,IAEjB,OAAOkG,IAEOJ,MAAMvG,KAAMmC,YAE9B4M,GAAsD,SAAUjN,EAAYC,EAAQC,EAAKC,GACzF,IAA2H9B,EAAvH+B,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAO5B,OAAOiC,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZf,SAAoD,mBAArBA,QAAQqB,SAAyBF,EAAInB,QAAQqB,SAAST,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIO,EAAIV,EAAWM,OAAS,EAAGI,GAAK,EAAGA,KAASrC,EAAI2B,EAAWU,MAAIH,GAAKH,EAAI,EAAI/B,EAAEkC,GAAKH,EAAI,EAAI/B,EAAE4B,EAAQC,EAAKK,GAAKlC,EAAE4B,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKhC,OAAOoC,eAAeV,EAAQC,EAAKK,GAAIA,GAE5D2M,GAAsD,SAAUhO,EAAGC,GACnE,GAAuB,iBAAZC,SAAoD,mBAArBA,QAAQC,SAAyB,OAAOD,QAAQC,SAASH,EAAGC,IAEtGgO,GAAgD,SAAUlI,EAAYC,GACtE,OAAO,SAAUjF,EAAQC,GAAOgF,EAAUjF,EAAQC,EAAK+E,KAEvDmI,GAAiC,WAUjC,OAPkBH,GAAa,CAC3BlP,EAAKsP,SAAS,IACdH,GAAa,oBAAqB,CAAC3N,EAC/B4F,EACAsC,EACA8B,KAPR,SAAS6D,EAAgBlF,EAAUC,EAAUmF,EAAiBzP,MAD9B,GAYhC0P,GAAoC,WACpC,SAASA,EAAmB1H,EAAU2H,EAAiB9D,EAAgB+D,GACnEvP,KAAK2H,SAAWA,EAChB3H,KAAKsP,gBAAkBA,EACvBtP,KAAKwL,eAAiBA,EACtB,IAAIgE,EAAQ7H,EAASS,IAAI,SAAUX,EAASgI,GACxC,IAAIC,EAA2BJ,EAAgBK,QAE/C,OAAOb,GAAW,GAAIrH,EAAS,CAAE7C,SADlB8K,EAAwCD,GACF5K,aAAc+K,GAAqBnI,EAAQ5C,kBAEpG2G,EAAe9D,YAAY8H,GAY/B,OAVAH,EAAmBxO,UAAUgB,YAAc,WACvC7B,KAAKwL,eAAetD,eAAelI,KAAK2H,WAEvBoH,GAAa,CAC9BlP,EAAKsP,SAAS,IACdF,GAAU,EAAGpP,EAAKoJ,OAAOvF,IACzBuL,GAAU,EAAGpP,EAAKoJ,OAAOrF,IACzBoL,GAAa,oBAAqB,CAACxO,MAAOA,MAAO6G,EAC7C6H,MACLG,GArBgC,GAwBnCQ,GAA6B,WAC7B,SAASA,KAmGT,OAjGAA,EAAYC,QAAU,SAAUlL,EAAUmL,GAEtC,YADe,IAAXA,IAAqBA,EAAS,IAC3B,CACHC,SAAUd,GACVe,UAAW,CACP,CAAE7G,QAAStG,EAAgBoN,SAAUH,EAAOlL,cAC5C,CACIuE,QAASpG,EACTmN,WAAYP,GACZQ,KAAM,CAACtN,IAEX,CAAEsG,QAAShG,EAAmB8M,SAAUtL,GACxC,CACIwE,QAAS7F,EACT8F,YAAazE,aAAoB/E,EAAKkD,eAAiB6B,EAAWxB,GAEtE,CACIgG,QAASjG,EACTiN,KAAM,CAACvQ,EAAKwQ,SAAUjN,EAAmB,CAAC,IAAIvD,EAAKoJ,OAAO1F,KAC1D4M,WAAYG,IAEhB,CACIlH,QAAS/F,EACT6M,SAAUH,EAAO1J,aAAe0J,EAAO1J,aAAe,IAE1D,CACI+C,QAASlG,EACTgN,SAAUH,EAAO3J,eACX2J,EAAO3J,eACPzB,GAEV,CACIyE,QAASnG,EACTmN,KAAM,CAAClN,EAAkBG,GACzB8M,WAAYhK,GAEhBtD,EACAsG,EACAO,EACAsB,EACAmB,KAIZ0D,EAAYU,WAAa,SAAUC,EAAa5L,EAAUmL,GAEtD,YADe,IAAXA,IAAqBA,EAAS,IAC3B,CACHC,SAAUX,GACVY,UAAW,CACP,CACI7G,QAAS3F,EACTgN,OAAO,EACPP,SAAUH,GAEd,CACI3G,QAAS9F,EACTmN,OAAO,EACPP,SAAU,CACNlO,IAAKwO,EACLpK,eAAkB2J,aAAkBlQ,EAAKkD,iBAAmBgN,EAAO3J,eAE7DzB,EADAoL,EAAO3J,eAEbC,aAAgB0J,aAAkBlQ,EAAKkD,iBAAmBgN,EAAO1J,aAE3D,GADA0J,EAAO1J,aAEbxB,aAAgBkL,aAAkBlQ,EAAKkD,iBAAmBgN,EAAOlL,kBAE3DO,EADA2K,EAAOlL,eAIrB,CACIuE,QAAS1F,EACT0M,KAAM,CAACvQ,EAAKwQ,SAAU5M,EAAkBH,GACxC6M,WAAYO,IAEhB,CAAEtH,QAAS5F,EAAmBiN,OAAO,EAAMP,SAAUtL,GACrD,CACIwE,QAASzF,EACT8M,OAAO,EACPpH,YAAazE,aAAoB/E,EAAKkD,eAAiB6B,EAAWpB,GAEtE,CACI4F,QAASxF,EACT6M,OAAO,EACPL,KAAM,CACFvQ,EAAKwQ,SACL7M,EACA,CAAC,IAAI3D,EAAKoJ,OAAOtF,KAErBwM,WAAYQ,OAKd5B,GAAa,CACvBlP,EAAKsP,SAAS,KACfU,GAnGyB,GAsGhC,SAASS,GAAqBM,EAAUhM,EAAUiM,GAC9C,OAAOjM,aAAoB/E,EAAKkD,eAAiB6N,EAASE,IAAIlM,GAAYA,EAE9E,SAAS8L,GAAoBE,EAAUG,EAASC,GAC5C,OAAOA,EAAc5I,IAAI,SAAU6I,EAAMxB,GACrC,GAAIsB,EAAQtB,aAAkB5P,EAAKkD,eAAgB,CAC/C,IAAImO,EAAON,EAASE,IAAIC,EAAQtB,IAChC,MAAO,CACHzN,IAAKiP,EAAKjP,IACVoE,eAAgB8K,EAAK9K,eACf8K,EAAK9K,eACLzB,EACN0B,aAAc6K,EAAK7K,aAAe6K,EAAK7K,aAAe,GACtDxB,aAAcqM,EAAKrM,cAG3B,OAAOoM,IAGf,SAASN,GAAuBC,EAAUO,EAAmBC,GAIzD,OAHeD,EAAkB/I,IAAI,SAAU3C,EAASgK,GACpD,OAAOhK,aAAmB5F,EAAKkD,eAAiB6N,EAASE,IAAIrL,GAAWA,IAIhF,SAASmK,GAAqB/K,GAC1B,MAA4B,mBAAjBA,EACAA,IAEJA,EAaXzF,EAAQiS,4BAA8BxO,EACtCzD,EAAQkS,4BAA8BnI,EACtC/J,EAAQmS,4BAA8B7H,EACtCtK,EAAQoS,4BAA8B1E,GACtC1N,EAAQqS,4BAA8BzG,EACtC5L,EAAQsS,4BAA8BvF,EACtC/M,EAAQuS,4BAA8BjB,GACtCtR,EAAQwS,4BAA8BnO,EACtCrE,EAAQyS,4BAA8BnO,EACtCtE,EAAQiM,MAAQA,EAChBjM,EAAQuM,OAASA,GACjBvM,EAAQuF,gBAAkBA,EAC1BvF,EAAQsG,QAAUA,EAClBtG,EAAQ+G,qBAAuBA,EAC/B/G,EAAQiC,eAAiBA,EACzBjC,EAAQgC,KAAOA,EACfhC,EAAQiI,eAAiBA,EACzBjI,EAAQ6H,kBAAoBA,EAC5B7H,EAAQ+H,yBAA2BA,EACnC/H,EAAQgI,OAASA,EACjBhI,EAAQmK,sBAAwBA,EAChCnK,EAAQwO,eAAiBA,GACzBxO,EAAQ0O,sBAAwBA,GAChC1O,EAAQ0S,sBAtOR,SAASA,GAAsBtB,GAC3B,OAAO5C,GAAe,SAAUzI,GAAS,OAAOA,EAAMqL,IAAiB,SAAUuB,GAAgB,OAAOA,KAsO5G3S,EAAQ4N,eAAiBA,GACzB5N,EAAQ2O,eAAiBA,GACzB3O,EAAQ4S,cA7UR,SAASA,GAAc/E,EAAcE,GACjC,OAAOH,GAAeC,EAAcH,GAAcK,IA6UtD/N,EAAQ2K,MAAQA,EAChB3K,EAAQ0K,gBAAkBA,EAC1B1K,EAAQqL,YAAcA,EACtBrL,EAAQ4D,cAAgBA,EACxB5D,EAAQ8D,iBAAmBA,EAC3B9D,EAAQ6D,gBAAkBA,EAC1B7D,EAAQgE,kBAAoBA,EAC5BhE,EAAQ+D,iBAAmBA,EAC3B/D,EAAQkE,eAAiBA,EACzBlE,EAAQ0D,eAAiBA,EACzB1D,EAAQiE,cAAgBA,EACxBjE,EAAQmE,gBAAkBA,EAC1BnE,EAAQoE,kBAAoBA,EAC5BpE,EAAQwE,iBAAmBA,EAC3BxE,EAAQuE,wBAA0BA,EAClCvE,EAAQyQ,YAAcA,GACtBzQ,EAAQ8P,gBAAkBA,GAC1B9P,EAAQiQ,mBAAqBA,GAC7BjQ,EAAQwQ,qBAAuBA,GAC/BxQ,EAAQkR,qBAAuBA,GAC/BlR,EAAQuR,uBAAyBA,GAEjCtQ,OAAOoC,eAAerD,EAAS,aAAc,CAAEmF,OAAO","sourcesContent":["/**\n * @license NgRx 7.2.0+38.sha-d559998\n * (c) 2015-2018 Brandon Roberts, Mike Ryan, Rob Wormald, Victor Savkin\n * License: MIT\n */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs'), require('rxjs/operators')) :\n    typeof define === 'function' && define.amd ? define('@ngrx/store', ['exports', '@angular/core', 'rxjs', 'rxjs/operators'], factory) :\n    (global = global || self, factory((global.ngrx = global.ngrx || {}, global.ngrx.store = {}), global.ng.core, global.rxjs, global.rxjs.operators));\n}(this, function (exports, core, rxjs, operators) { 'use strict';\n\n    var __extends = (undefined && undefined.__extends) || (function () {\n        var extendStatics = function (d, b) {\n            extendStatics = Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            extendStatics(d, b);\n            function __() { this.constructor = d; }\n            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n    })();\n    var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\n    };\n    var __metadata = (undefined && undefined.__metadata) || function (k, v) {\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n    };\n    var INIT = '@ngrx/store/init';\n    var ActionsSubject = /** @class */ (function (_super) {\n        __extends(ActionsSubject, _super);\n        function ActionsSubject() {\n            return _super.call(this, { type: INIT }) || this;\n        }\n        ActionsSubject.prototype.next = function (action) {\n            if (typeof action === 'undefined') {\n                throw new TypeError(\"Actions must be objects\");\n            }\n            else if (typeof action.type === 'undefined') {\n                throw new TypeError(\"Actions must have a type property\");\n            }\n            _super.prototype.next.call(this, action);\n        };\n        ActionsSubject.prototype.complete = function () {\n            /* noop */\n        };\n        ActionsSubject.prototype.ngOnDestroy = function () {\n            _super.prototype.complete.call(this);\n        };\n        ActionsSubject = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [])\n        ], ActionsSubject);\n        return ActionsSubject;\n    }(rxjs.BehaviorSubject));\n    var ACTIONS_SUBJECT_PROVIDERS = [ActionsSubject];\n\n    var _INITIAL_STATE = new core.InjectionToken('@ngrx/store Internal Initial State');\n    var INITIAL_STATE = new core.InjectionToken('@ngrx/store Initial State');\n    var REDUCER_FACTORY = new core.InjectionToken('@ngrx/store Reducer Factory');\n    var _REDUCER_FACTORY = new core.InjectionToken('@ngrx/store Reducer Factory Provider');\n    var INITIAL_REDUCERS = new core.InjectionToken('@ngrx/store Initial Reducers');\n    var _INITIAL_REDUCERS = new core.InjectionToken('@ngrx/store Internal Initial Reducers');\n    var META_REDUCERS = new core.InjectionToken('@ngrx/store Meta Reducers');\n    var STORE_FEATURES = new core.InjectionToken('@ngrx/store Store Features');\n    var _STORE_REDUCERS = new core.InjectionToken('@ngrx/store Internal Store Reducers');\n    var _FEATURE_REDUCERS = new core.InjectionToken('@ngrx/store Internal Feature Reducers');\n    var _FEATURE_CONFIGS = new core.InjectionToken('@ngrx/store Internal Feature Configs');\n    var _STORE_FEATURES = new core.InjectionToken('@ngrx/store Internal Store Features');\n    var _FEATURE_REDUCERS_TOKEN = new core.InjectionToken('@ngrx/store Internal Feature Reducers Token');\n    var FEATURE_REDUCERS = new core.InjectionToken('@ngrx/store Feature Reducers');\n\n    var __read = (undefined && undefined.__read) || function (o, n) {\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n        if (!m) return o;\n        var i = m.call(o), r, ar = [], e;\n        try {\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n        }\n        catch (error) { e = { error: error }; }\n        finally {\n            try {\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\n            }\n            finally { if (e) throw e.error; }\n        }\n        return ar;\n    };\n    var __spread = (undefined && undefined.__spread) || function () {\n        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n        return ar;\n    };\n    function combineReducers(reducers, initialState) {\n        if (initialState === void 0) { initialState = {}; }\n        var reducerKeys = Object.keys(reducers);\n        var finalReducers = {};\n        for (var i = 0; i < reducerKeys.length; i++) {\n            var key = reducerKeys[i];\n            if (typeof reducers[key] === 'function') {\n                finalReducers[key] = reducers[key];\n            }\n        }\n        var finalReducerKeys = Object.keys(finalReducers);\n        return function combination(state, action) {\n            state = state === undefined ? initialState : state;\n            var hasChanged = false;\n            var nextState = {};\n            for (var i = 0; i < finalReducerKeys.length; i++) {\n                var key = finalReducerKeys[i];\n                var reducer = finalReducers[key];\n                var previousStateForKey = state[key];\n                var nextStateForKey = reducer(previousStateForKey, action);\n                nextState[key] = nextStateForKey;\n                hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n            }\n            return hasChanged ? nextState : state;\n        };\n    }\n    function omit(object, keyToRemove) {\n        return Object.keys(object)\n            .filter(function (key) { return key !== keyToRemove; })\n            .reduce(function (result, key) {\n            var _a;\n            return Object.assign(result, (_a = {}, _a[key] = object[key], _a));\n        }, {});\n    }\n    function compose() {\n        var functions = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            functions[_i] = arguments[_i];\n        }\n        return function (arg) {\n            if (functions.length === 0) {\n                return arg;\n            }\n            var last = functions[functions.length - 1];\n            var rest = functions.slice(0, -1);\n            return rest.reduceRight(function (composed, fn) { return fn(composed); }, last(arg));\n        };\n    }\n    function createReducerFactory(reducerFactory, metaReducers) {\n        if (Array.isArray(metaReducers) && metaReducers.length > 0) {\n            reducerFactory = compose.apply(null, __spread(metaReducers, [reducerFactory]));\n        }\n        return function (reducers, initialState) {\n            var reducer = reducerFactory(reducers);\n            return function (state, action) {\n                state = state === undefined ? initialState : state;\n                return reducer(state, action);\n            };\n        };\n    }\n    function createFeatureReducerFactory(metaReducers) {\n        var reducerFactory = Array.isArray(metaReducers) && metaReducers.length > 0\n            ? compose.apply(void 0, __spread(metaReducers)) : function (r) { return r; };\n        return function (reducer, initialState) {\n            reducer = reducerFactory(reducer);\n            return function (state, action) {\n                state = state === undefined ? initialState : state;\n                return reducer(state, action);\n            };\n        };\n    }\n\n    var __extends$1 = (undefined && undefined.__extends) || (function () {\n        var extendStatics = function (d, b) {\n            extendStatics = Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            extendStatics(d, b);\n            function __() { this.constructor = d; }\n            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n    })();\n    var __assign = (undefined && undefined.__assign) || function () {\n        __assign = Object.assign || function(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                    t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n    var __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\n    };\n    var __metadata$1 = (undefined && undefined.__metadata) || function (k, v) {\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n    };\n    var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n        return function (target, key) { decorator(target, key, paramIndex); }\n    };\n    var ReducerObservable = /** @class */ (function (_super) {\n        __extends$1(ReducerObservable, _super);\n        function ReducerObservable() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return ReducerObservable;\n    }(rxjs.Observable));\n    var ReducerManagerDispatcher = /** @class */ (function (_super) {\n        __extends$1(ReducerManagerDispatcher, _super);\n        function ReducerManagerDispatcher() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return ReducerManagerDispatcher;\n    }(ActionsSubject));\n    var UPDATE = '@ngrx/store/update-reducers';\n    var ReducerManager = /** @class */ (function (_super) {\n        __extends$1(ReducerManager, _super);\n        function ReducerManager(dispatcher, initialState, reducers, reducerFactory) {\n            var _this = _super.call(this, reducerFactory(reducers, initialState)) || this;\n            _this.dispatcher = dispatcher;\n            _this.initialState = initialState;\n            _this.reducers = reducers;\n            _this.reducerFactory = reducerFactory;\n            return _this;\n        }\n        ReducerManager.prototype.addFeature = function (feature) {\n            this.addFeatures([feature]);\n        };\n        ReducerManager.prototype.addFeatures = function (features) {\n            var reducers = features.reduce(function (reducerDict, _a) {\n                var reducers = _a.reducers, reducerFactory = _a.reducerFactory, metaReducers = _a.metaReducers, initialState = _a.initialState, key = _a.key;\n                var reducer = typeof reducers === 'function'\n                    ? createFeatureReducerFactory(metaReducers)(reducers, initialState)\n                    : createReducerFactory(reducerFactory, metaReducers)(reducers, initialState);\n                reducerDict[key] = reducer;\n                return reducerDict;\n            }, {});\n            this.addReducers(reducers);\n        };\n        ReducerManager.prototype.removeFeature = function (feature) {\n            this.removeFeatures([feature]);\n        };\n        ReducerManager.prototype.removeFeatures = function (features) {\n            this.removeReducers(features.map(function (p) { return p.key; }));\n        };\n        ReducerManager.prototype.addReducer = function (key, reducer) {\n            var _a;\n            this.addReducers((_a = {}, _a[key] = reducer, _a));\n        };\n        ReducerManager.prototype.addReducers = function (reducers) {\n            this.reducers = __assign({}, this.reducers, reducers);\n            this.updateReducers(Object.keys(reducers));\n        };\n        ReducerManager.prototype.removeReducer = function (featureKey) {\n            this.removeReducers([featureKey]);\n        };\n        ReducerManager.prototype.removeReducers = function (featureKeys) {\n            var _this = this;\n            featureKeys.forEach(function (key) {\n                _this.reducers = omit(_this.reducers, key) /*TODO(#823)*/;\n            });\n            this.updateReducers(featureKeys);\n        };\n        ReducerManager.prototype.updateReducers = function (featureKeys) {\n            this.next(this.reducerFactory(this.reducers, this.initialState));\n            this.dispatcher.next({\n                type: UPDATE,\n                features: featureKeys,\n            });\n        };\n        ReducerManager.prototype.ngOnDestroy = function () {\n            this.complete();\n        };\n        ReducerManager = __decorate$1([\n            core.Injectable(),\n            __param(1, core.Inject(INITIAL_STATE)),\n            __param(2, core.Inject(INITIAL_REDUCERS)),\n            __param(3, core.Inject(REDUCER_FACTORY)),\n            __metadata$1(\"design:paramtypes\", [ReducerManagerDispatcher, Object, Object, Function])\n        ], ReducerManager);\n        return ReducerManager;\n    }(rxjs.BehaviorSubject));\n    var REDUCER_MANAGER_PROVIDERS = [\n        ReducerManager,\n        { provide: ReducerObservable, useExisting: ReducerManager },\n        { provide: ReducerManagerDispatcher, useExisting: ActionsSubject },\n    ];\n\n    var __extends$2 = (undefined && undefined.__extends) || (function () {\n        var extendStatics = function (d, b) {\n            extendStatics = Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            extendStatics(d, b);\n            function __() { this.constructor = d; }\n            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n    })();\n    var __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\n    };\n    var ScannedActionsSubject = /** @class */ (function (_super) {\n        __extends$2(ScannedActionsSubject, _super);\n        function ScannedActionsSubject() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        ScannedActionsSubject.prototype.ngOnDestroy = function () {\n            this.complete();\n        };\n        ScannedActionsSubject = __decorate$2([\n            core.Injectable()\n        ], ScannedActionsSubject);\n        return ScannedActionsSubject;\n    }(rxjs.Subject));\n    var SCANNED_ACTIONS_SUBJECT_PROVIDERS = [\n        ScannedActionsSubject,\n    ];\n\n    var __extends$3 = (undefined && undefined.__extends) || (function () {\n        var extendStatics = function (d, b) {\n            extendStatics = Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            extendStatics(d, b);\n            function __() { this.constructor = d; }\n            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n    })();\n    var __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\n    };\n    var __metadata$2 = (undefined && undefined.__metadata) || function (k, v) {\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n    };\n    var __param$1 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n        return function (target, key) { decorator(target, key, paramIndex); }\n    };\n    var __read$1 = (undefined && undefined.__read) || function (o, n) {\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n        if (!m) return o;\n        var i = m.call(o), r, ar = [], e;\n        try {\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n        }\n        catch (error) { e = { error: error }; }\n        finally {\n            try {\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\n            }\n            finally { if (e) throw e.error; }\n        }\n        return ar;\n    };\n    var StateObservable = /** @class */ (function (_super) {\n        __extends$3(StateObservable, _super);\n        function StateObservable() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return StateObservable;\n    }(rxjs.Observable));\n    var State = /** @class */ (function (_super) {\n        __extends$3(State, _super);\n        function State(actions$, reducer$, scannedActions, initialState) {\n            var _this = _super.call(this, initialState) || this;\n            var actionsOnQueue$ = actions$.pipe(operators.observeOn(rxjs.queueScheduler));\n            var withLatestReducer$ = actionsOnQueue$.pipe(operators.withLatestFrom(reducer$));\n            var seed = { state: initialState };\n            var stateAndAction$ = withLatestReducer$.pipe(operators.scan(reduceState, seed));\n            _this.stateSubscription = stateAndAction$.subscribe(function (_a) {\n                var state = _a.state, action = _a.action;\n                _this.next(state);\n                scannedActions.next(action);\n            });\n            return _this;\n        }\n        State.prototype.ngOnDestroy = function () {\n            this.stateSubscription.unsubscribe();\n            this.complete();\n        };\n        State.INIT = INIT;\n        State = __decorate$3([\n            core.Injectable(),\n            __param$1(3, core.Inject(INITIAL_STATE)),\n            __metadata$2(\"design:paramtypes\", [ActionsSubject,\n                ReducerObservable,\n                ScannedActionsSubject, Object])\n        ], State);\n        return State;\n    }(rxjs.BehaviorSubject));\n    function reduceState(stateActionPair, _a) {\n        if (stateActionPair === void 0) { stateActionPair = { state: undefined }; }\n        var _b = __read$1(_a, 2), action = _b[0], reducer = _b[1];\n        var state = stateActionPair.state;\n        return { state: reducer(state, action), action: action };\n    }\n    var STATE_PROVIDERS = [\n        State,\n        { provide: StateObservable, useExisting: State },\n    ];\n\n    var __extends$4 = (undefined && undefined.__extends) || (function () {\n        var extendStatics = function (d, b) {\n            extendStatics = Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            extendStatics(d, b);\n            function __() { this.constructor = d; }\n            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n    })();\n    var __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\n    };\n    var __metadata$3 = (undefined && undefined.__metadata) || function (k, v) {\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n    };\n    var __read$2 = (undefined && undefined.__read) || function (o, n) {\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n        if (!m) return o;\n        var i = m.call(o), r, ar = [], e;\n        try {\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n        }\n        catch (error) { e = { error: error }; }\n        finally {\n            try {\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\n            }\n            finally { if (e) throw e.error; }\n        }\n        return ar;\n    };\n    var __spread$1 = (undefined && undefined.__spread) || function () {\n        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read$2(arguments[i]));\n        return ar;\n    };\n    var Store = /** @class */ (function (_super) {\n        __extends$4(Store, _super);\n        function Store(state$, actionsObserver, reducerManager) {\n            var _this = _super.call(this) || this;\n            _this.actionsObserver = actionsObserver;\n            _this.reducerManager = reducerManager;\n            _this.source = state$;\n            return _this;\n        }\n        Store_1 = Store;\n        Store.prototype.select = function (pathOrMapFn) {\n            var paths = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                paths[_i - 1] = arguments[_i];\n            }\n            return select.call.apply(select, __spread$1([null, pathOrMapFn], paths))(this);\n        };\n        Store.prototype.lift = function (operator) {\n            var store = new Store_1(this, this.actionsObserver, this.reducerManager);\n            store.operator = operator;\n            return store;\n        };\n        Store.prototype.dispatch = function (action) {\n            this.actionsObserver.next(action);\n        };\n        Store.prototype.next = function (action) {\n            this.actionsObserver.next(action);\n        };\n        Store.prototype.error = function (err) {\n            this.actionsObserver.error(err);\n        };\n        Store.prototype.complete = function () {\n            this.actionsObserver.complete();\n        };\n        Store.prototype.addReducer = function (key, reducer) {\n            this.reducerManager.addReducer(key, reducer);\n        };\n        Store.prototype.removeReducer = function (key) {\n            this.reducerManager.removeReducer(key);\n        };\n        var Store_1;\n        Store = Store_1 = __decorate$4([\n            core.Injectable(),\n            __metadata$3(\"design:paramtypes\", [StateObservable,\n                ActionsSubject,\n                ReducerManager])\n        ], Store);\n        return Store;\n    }(rxjs.Observable));\n    var STORE_PROVIDERS = [Store];\n    function select(pathOrMapFn, propsOrPath) {\n        var paths = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            paths[_i - 2] = arguments[_i];\n        }\n        return function selectOperator(source$) {\n            var mapped$;\n            if (typeof pathOrMapFn === 'string') {\n                var pathSlices = __spread$1([propsOrPath], paths).filter(Boolean);\n                mapped$ = source$.pipe(operators.pluck.apply(void 0, __spread$1([pathOrMapFn], pathSlices)));\n            }\n            else if (typeof pathOrMapFn === 'function') {\n                mapped$ = source$.pipe(operators.map(function (source) { return pathOrMapFn(source, propsOrPath); }));\n            }\n            else {\n                throw new TypeError(\"Unexpected type '\" + typeof pathOrMapFn + \"' in select operator,\" +\n                    \" expected 'string' or 'function'\");\n            }\n            return mapped$.pipe(operators.distinctUntilChanged());\n        };\n    }\n\n    var __read$3 = (undefined && undefined.__read) || function (o, n) {\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n        if (!m) return o;\n        var i = m.call(o), r, ar = [], e;\n        try {\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n        }\n        catch (error) { e = { error: error }; }\n        finally {\n            try {\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\n            }\n            finally { if (e) throw e.error; }\n        }\n        return ar;\n    };\n    var __spread$2 = (undefined && undefined.__spread) || function () {\n        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read$3(arguments[i]));\n        return ar;\n    };\n    function isEqualCheck(a, b) {\n        return a === b;\n    }\n    function isArgumentsChanged(args, lastArguments, comparator) {\n        for (var i = 0; i < args.length; i++) {\n            if (!comparator(args[i], lastArguments[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    function resultMemoize(projectionFn, isResultEqual) {\n        return defaultMemoize(projectionFn, isEqualCheck, isResultEqual);\n    }\n    function defaultMemoize(projectionFn, isArgumentsEqual, isResultEqual) {\n        if (isArgumentsEqual === void 0) { isArgumentsEqual = isEqualCheck; }\n        if (isResultEqual === void 0) { isResultEqual = isEqualCheck; }\n        var lastArguments = null;\n        // tslint:disable-next-line:no-any anything could be the result.\n        var lastResult = null;\n        function reset() {\n            lastArguments = null;\n            lastResult = null;\n        }\n        // tslint:disable-next-line:no-any anything could be the result.\n        function memoized() {\n            if (!lastArguments) {\n                lastResult = projectionFn.apply(null, arguments);\n                lastArguments = arguments;\n                return lastResult;\n            }\n            if (!isArgumentsChanged(arguments, lastArguments, isArgumentsEqual)) {\n                return lastResult;\n            }\n            lastArguments = arguments;\n            var newResult = projectionFn.apply(null, arguments);\n            if (isResultEqual(lastResult, newResult)) {\n                return lastResult;\n            }\n            lastResult = newResult;\n            return newResult;\n        }\n        return { memoized: memoized, reset: reset };\n    }\n    function createSelector() {\n        var input = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            input[_i] = arguments[_i];\n        }\n        return createSelectorFactory(defaultMemoize).apply(void 0, __spread$2(input));\n    }\n    function defaultStateFn(state, selectors, props, memoizedProjector) {\n        if (props === undefined) {\n            var args_1 = selectors.map(function (fn) { return fn(state); });\n            return memoizedProjector.memoized.apply(null, args_1);\n        }\n        var args = selectors.map(function (fn) {\n            return fn(state, props);\n        });\n        return memoizedProjector.memoized.apply(null, __spread$2(args, [props]));\n    }\n    function createSelectorFactory(memoize, options) {\n        if (options === void 0) { options = {\n            stateFn: defaultStateFn,\n        }; }\n        return function () {\n            var input = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                input[_i] = arguments[_i];\n            }\n            var args = input;\n            if (Array.isArray(args[0])) {\n                var _a = __read$3(args), head = _a[0], tail = _a.slice(1);\n                args = __spread$2(head, tail);\n            }\n            var selectors = args.slice(0, args.length - 1);\n            var projector = args[args.length - 1];\n            var memoizedSelectors = selectors.filter(function (selector) {\n                return selector.release && typeof selector.release === 'function';\n            });\n            var memoizedProjector = memoize(function () {\n                var selectors = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    selectors[_i] = arguments[_i];\n                }\n                return projector.apply(null, selectors);\n            });\n            var memoizedState = defaultMemoize(function (state, props) {\n                // createSelector works directly on state\n                // e.g. createSelector((state, props) => ...)\n                if (selectors.length === 0 && props !== undefined) {\n                    return projector.apply(null, [state, props]);\n                }\n                return options.stateFn.apply(null, [\n                    state,\n                    selectors,\n                    props,\n                    memoizedProjector,\n                ]);\n            });\n            function release() {\n                memoizedState.reset();\n                memoizedProjector.reset();\n                memoizedSelectors.forEach(function (selector) { return selector.release(); });\n            }\n            return Object.assign(memoizedState.memoized, {\n                release: release,\n                projector: memoizedProjector.memoized,\n            });\n        };\n    }\n    function createFeatureSelector(featureName) {\n        return createSelector(function (state) { return state[featureName]; }, function (featureState) { return featureState; });\n    }\n\n    var __assign$1 = (undefined && undefined.__assign) || function () {\n        __assign$1 = Object.assign || function(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                    t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign$1.apply(this, arguments);\n    };\n    var __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\n    };\n    var __metadata$4 = (undefined && undefined.__metadata) || function (k, v) {\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n    };\n    var __param$2 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n        return function (target, key) { decorator(target, key, paramIndex); }\n    };\n    var StoreRootModule = /** @class */ (function () {\n        function StoreRootModule(actions$, reducer$, scannedActions$, store) {\n        }\n        StoreRootModule = __decorate$5([\n            core.NgModule({}),\n            __metadata$4(\"design:paramtypes\", [ActionsSubject,\n                ReducerObservable,\n                ScannedActionsSubject,\n                Store])\n        ], StoreRootModule);\n        return StoreRootModule;\n    }());\n    var StoreFeatureModule = /** @class */ (function () {\n        function StoreFeatureModule(features, featureReducers, reducerManager, root) {\n            this.features = features;\n            this.featureReducers = featureReducers;\n            this.reducerManager = reducerManager;\n            var feats = features.map(function (feature, index) {\n                var featureReducerCollection = featureReducers.shift();\n                var reducers = featureReducerCollection /*TODO(#823)*/[index];\n                return __assign$1({}, feature, { reducers: reducers, initialState: _initialStateFactory(feature.initialState) });\n            });\n            reducerManager.addFeatures(feats);\n        }\n        StoreFeatureModule.prototype.ngOnDestroy = function () {\n            this.reducerManager.removeFeatures(this.features);\n        };\n        StoreFeatureModule = __decorate$5([\n            core.NgModule({}),\n            __param$2(0, core.Inject(_STORE_FEATURES)),\n            __param$2(1, core.Inject(FEATURE_REDUCERS)),\n            __metadata$4(\"design:paramtypes\", [Array, Array, ReducerManager,\n                StoreRootModule])\n        ], StoreFeatureModule);\n        return StoreFeatureModule;\n    }());\n    var StoreModule = /** @class */ (function () {\n        function StoreModule() {\n        }\n        StoreModule.forRoot = function (reducers, config) {\n            if (config === void 0) { config = {}; }\n            return {\n                ngModule: StoreRootModule,\n                providers: [\n                    { provide: _INITIAL_STATE, useValue: config.initialState },\n                    {\n                        provide: INITIAL_STATE,\n                        useFactory: _initialStateFactory,\n                        deps: [_INITIAL_STATE],\n                    },\n                    { provide: _INITIAL_REDUCERS, useValue: reducers },\n                    {\n                        provide: _STORE_REDUCERS,\n                        useExisting: reducers instanceof core.InjectionToken ? reducers : _INITIAL_REDUCERS,\n                    },\n                    {\n                        provide: INITIAL_REDUCERS,\n                        deps: [core.Injector, _INITIAL_REDUCERS, [new core.Inject(_STORE_REDUCERS)]],\n                        useFactory: _createStoreReducers,\n                    },\n                    {\n                        provide: META_REDUCERS,\n                        useValue: config.metaReducers ? config.metaReducers : [],\n                    },\n                    {\n                        provide: _REDUCER_FACTORY,\n                        useValue: config.reducerFactory\n                            ? config.reducerFactory\n                            : combineReducers,\n                    },\n                    {\n                        provide: REDUCER_FACTORY,\n                        deps: [_REDUCER_FACTORY, META_REDUCERS],\n                        useFactory: createReducerFactory,\n                    },\n                    ACTIONS_SUBJECT_PROVIDERS,\n                    REDUCER_MANAGER_PROVIDERS,\n                    SCANNED_ACTIONS_SUBJECT_PROVIDERS,\n                    STATE_PROVIDERS,\n                    STORE_PROVIDERS,\n                ],\n            };\n        };\n        StoreModule.forFeature = function (featureName, reducers, config) {\n            if (config === void 0) { config = {}; }\n            return {\n                ngModule: StoreFeatureModule,\n                providers: [\n                    {\n                        provide: _FEATURE_CONFIGS,\n                        multi: true,\n                        useValue: config,\n                    },\n                    {\n                        provide: STORE_FEATURES,\n                        multi: true,\n                        useValue: {\n                            key: featureName,\n                            reducerFactory: !(config instanceof core.InjectionToken) && config.reducerFactory\n                                ? config.reducerFactory\n                                : combineReducers,\n                            metaReducers: !(config instanceof core.InjectionToken) && config.metaReducers\n                                ? config.metaReducers\n                                : [],\n                            initialState: !(config instanceof core.InjectionToken) && config.initialState\n                                ? config.initialState\n                                : undefined,\n                        },\n                    },\n                    {\n                        provide: _STORE_FEATURES,\n                        deps: [core.Injector, _FEATURE_CONFIGS, STORE_FEATURES],\n                        useFactory: _createFeatureStore,\n                    },\n                    { provide: _FEATURE_REDUCERS, multi: true, useValue: reducers },\n                    {\n                        provide: _FEATURE_REDUCERS_TOKEN,\n                        multi: true,\n                        useExisting: reducers instanceof core.InjectionToken ? reducers : _FEATURE_REDUCERS,\n                    },\n                    {\n                        provide: FEATURE_REDUCERS,\n                        multi: true,\n                        deps: [\n                            core.Injector,\n                            _FEATURE_REDUCERS,\n                            [new core.Inject(_FEATURE_REDUCERS_TOKEN)],\n                        ],\n                        useFactory: _createFeatureReducers,\n                    },\n                ],\n            };\n        };\n        StoreModule = __decorate$5([\n            core.NgModule({})\n        ], StoreModule);\n        return StoreModule;\n    }());\n    function _createStoreReducers(injector, reducers, tokenReducers) {\n        return reducers instanceof core.InjectionToken ? injector.get(reducers) : reducers;\n    }\n    function _createFeatureStore(injector, configs, featureStores) {\n        return featureStores.map(function (feat, index) {\n            if (configs[index] instanceof core.InjectionToken) {\n                var conf = injector.get(configs[index]);\n                return {\n                    key: feat.key,\n                    reducerFactory: conf.reducerFactory\n                        ? conf.reducerFactory\n                        : combineReducers,\n                    metaReducers: conf.metaReducers ? conf.metaReducers : [],\n                    initialState: conf.initialState,\n                };\n            }\n            return feat;\n        });\n    }\n    function _createFeatureReducers(injector, reducerCollection, tokenReducerCollection) {\n        var reducers = reducerCollection.map(function (reducer, index) {\n            return reducer instanceof core.InjectionToken ? injector.get(reducer) : reducer;\n        });\n        return reducers;\n    }\n    function _initialStateFactory(initialState) {\n        if (typeof initialState === 'function') {\n            return initialState();\n        }\n        return initialState;\n    }\n\n    /**\n     * DO NOT EDIT\n     *\n     * This file is automatically generated at build\n     */\n\n    /**\n     * Generated bundle index. Do not edit.\n     */\n\n    exports.ɵngrx_modules_store_store_c = ACTIONS_SUBJECT_PROVIDERS;\n    exports.ɵngrx_modules_store_store_d = REDUCER_MANAGER_PROVIDERS;\n    exports.ɵngrx_modules_store_store_e = SCANNED_ACTIONS_SUBJECT_PROVIDERS;\n    exports.ɵngrx_modules_store_store_f = isEqualCheck;\n    exports.ɵngrx_modules_store_store_g = STATE_PROVIDERS;\n    exports.ɵngrx_modules_store_store_b = STORE_PROVIDERS;\n    exports.ɵngrx_modules_store_store_j = _createFeatureStore;\n    exports.ɵngrx_modules_store_store_h = _FEATURE_CONFIGS;\n    exports.ɵngrx_modules_store_store_i = _STORE_FEATURES;\n    exports.Store = Store;\n    exports.select = select;\n    exports.combineReducers = combineReducers;\n    exports.compose = compose;\n    exports.createReducerFactory = createReducerFactory;\n    exports.ActionsSubject = ActionsSubject;\n    exports.INIT = INIT;\n    exports.ReducerManager = ReducerManager;\n    exports.ReducerObservable = ReducerObservable;\n    exports.ReducerManagerDispatcher = ReducerManagerDispatcher;\n    exports.UPDATE = UPDATE;\n    exports.ScannedActionsSubject = ScannedActionsSubject;\n    exports.createSelector = createSelector;\n    exports.createSelectorFactory = createSelectorFactory;\n    exports.createFeatureSelector = createFeatureSelector;\n    exports.defaultMemoize = defaultMemoize;\n    exports.defaultStateFn = defaultStateFn;\n    exports.resultMemoize = resultMemoize;\n    exports.State = State;\n    exports.StateObservable = StateObservable;\n    exports.reduceState = reduceState;\n    exports.INITIAL_STATE = INITIAL_STATE;\n    exports._REDUCER_FACTORY = _REDUCER_FACTORY;\n    exports.REDUCER_FACTORY = REDUCER_FACTORY;\n    exports._INITIAL_REDUCERS = _INITIAL_REDUCERS;\n    exports.INITIAL_REDUCERS = INITIAL_REDUCERS;\n    exports.STORE_FEATURES = STORE_FEATURES;\n    exports._INITIAL_STATE = _INITIAL_STATE;\n    exports.META_REDUCERS = META_REDUCERS;\n    exports._STORE_REDUCERS = _STORE_REDUCERS;\n    exports._FEATURE_REDUCERS = _FEATURE_REDUCERS;\n    exports.FEATURE_REDUCERS = FEATURE_REDUCERS;\n    exports._FEATURE_REDUCERS_TOKEN = _FEATURE_REDUCERS_TOKEN;\n    exports.StoreModule = StoreModule;\n    exports.StoreRootModule = StoreRootModule;\n    exports.StoreFeatureModule = StoreFeatureModule;\n    exports._initialStateFactory = _initialStateFactory;\n    exports._createStoreReducers = _createStoreReducers;\n    exports._createFeatureReducers = _createFeatureReducers;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=store.umd.js.map\n"]}